<!DOCTYPE html>
<!-- saved from url=(0061)https://realpython.com/primer-on-python-decorators/#functions -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="./Primer on Python Decorators – Real Python_files/track"></script><script type="text/javascript" async="" src="./Primer on Python Decorators – Real Python_files/client.js.download"></script><script src="./Primer on Python Decorators – Real Python_files/org"></script><script src="./Primer on Python Decorators – Real Python_files/2220911568135371" async=""></script><script async="" src="./Primer on Python Decorators – Real Python_files/fbevents.js.download"></script><script type="text/javascript" async="" src="./Primer on Python Decorators – Real Python_files/6214500.js.download"></script><script type="text/javascript" async="" src="./Primer on Python Decorators – Real Python_files/videoplayer.js.download"></script>
<link href="https://files.realpython.com/" rel="preconnect">
<title>Primer on Python Decorators – Real Python</title>
<meta name="author" content="Real Python">
<meta name="description" content="In this introductory tutorial, we&#39;ll look at what Python decorators are and how to create and use them.">
<meta name="keywords" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="./Primer on Python Decorators – Real Python_files/font.32be62914940.css">
<link rel="stylesheet" href="./Primer on Python Decorators – Real Python_files/realpython.min.31e7bf3a6d40.css">
<link rel="canonical" href="https://realpython.com/primer-on-python-decorators/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://files.realpython.com/media/Primer-on-Python-Decorators_Watermarked.d0da542fa3fc.jpg">
<meta property="og:image" content="https://files.realpython.com/media/Primer-on-Python-Decorators_Watermarked.d0da542fa3fc.jpg">
<meta name="twitter:creator" content="@realpython">
<meta name="twitter:site" content="@realpython">
<meta property="og:title" content="Primer on Python Decorators – Real Python">
<meta property="og:type" content="article">
<meta property="og:url" content="https://realpython.com/primer-on-python-decorators/">
<meta property="og:description" content="In this introductory tutorial, we&#39;ll look at what Python decorators are and how to create and use them.">
<link href="https://realpython.com/static/favicon.68cbf4197b0c.png" rel="icon">
<link href="https://realpython.com/atom.xml" rel="alternate" title="Real Python" type="application/atom+xml">
<link rel="manifest" href="https://realpython.com/manifest.json">
<script async="" type="text/javascript" src="./Primer on Python Decorators – Real Python_files/gpt.js.download"></script><script async="" src="./Primer on Python Decorators – Real Python_files/analytics.js.download"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35184939-1', 'auto', {'allowLinker': true});
  
  
  ga('send', 'pageview');
  
</script>
<style type="text/css">#waldo-sticky-footer-wrapper {position: fixed; width: 100%; bottom: 0px; left: 0px; text-align: center; z-index: 9000;}#waldo-sticky-footer-wrapper > div {position: relative; display: inline-block}#waldo-sticky-footer-wrapper iframe, #waldo-sticky-footer-wrapper div {margin-left: auto;margin-right: auto;}.waldo-sticky-sidebar{position: fixed; top: 10px;z-index: 90}.waldo-sticky-css{position: sticky; top: 10px; z-index: 90}.waldo-overlay{position: fixed;height: 100%;width: 100%;top: 0;left: 0;z-index: 105;background: rgba(0,0,0,0.7);}#waldo-counter {position: absolute;bottom: 0;right: 0;color: #fff;font-size: 30px;padding: 15px;}.waldo-bfleft {position: fixed; left: 0; top: 10px;z-index:101;}.waldo-bfright {position: fixed; right: 0; top: 10px;z-index:101;}#waldo-tag-6038 {clear: both !important;}div[class^="app_gdpr-"] a {color: #41afbb !important; text-decoration: underline !important}#waldo-close-button {position: absolute; right: 0;top: -24px;}#waldo-close-button a {border: 1px solid rgba(0,0,0,.35);padding: 3px;font-size: 12px;color: #fff;font-weight: bold;background-color: #777;}</style><script src="./Primer on Python Decorators – Real Python_files/OneSignalPageSDKES6.js.download" async=""></script><script src="./Primer on Python Decorators – Real Python_files/count-data.js.download"></script><script type="text/javascript">googletag.cmd.push(function() {googletag.pubads().addEventListener('slotRenderEnded', function(event) {waldoAddCloseBtn(event);});googletag.pubads().enableSingleRequest();googletag.enableServices();gptAdSlots[4996] = googletag.defineSlot('/124067137/realpython728x90FS_1', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-4996').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-4996');gptAdSlots[4998] = googletag.defineSlot('/124067137/realpython728x90FS_2', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-4998').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-4998');gptAdSlots[5000] = googletag.defineSlot('/124067137/realpython728x90FS_3', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5000').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5000');gptAdSlots[5002] = googletag.defineSlot('/124067137/realpython728x90FS_4', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5002').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5002');gptAdSlots[5004] = googletag.defineSlot('/124067137/realpython728x90FS_5', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5004').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5004');gptAdSlots[5257] = googletag.defineSlot('/124067137/realpython728x90FS_6', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5257').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5257');gptAdSlots[5259] = googletag.defineSlot('/124067137/realpython728x90FS_7', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5259').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5259');gptAdSlots[5261] = googletag.defineSlot('/124067137/realpython728x90FS_8', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5261').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5261');gptAdSlots[5263] = googletag.defineSlot('/124067137/realpython728x90FS_9', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5263').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5263');gptAdSlots[5265] = googletag.defineSlot('/124067137/realpython728x90FS_10', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5265').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5265');});</script><link rel="preload" href="./Primer on Python Decorators – Real Python_files/f(2).txt" as="script"><script type="text/javascript" src="./Primer on Python Decorators – Real Python_files/f(2).txt"></script><script src="./Primer on Python Decorators – Real Python_files/pubads_impl_2020062201.js.download" async=""></script><style type="text/css">
  /* === Form-Specific Styles === */
  /* stylelint-disable */

  #drip-106703 {
  }

  #drip-106703 .drip-header {
    background-color: #43ac6a !important;
  }

  #drip-106703 .drip-content h3 {
    color: #43ac6a !important;
    font-size: 29px !important;
  }

  #drip-106703 .drip-submit-button {
    background-color: #43ac6a !important;
    font-size: 19px !important;
  }

  #drip-106703 .drip-submit-button:hover {
    background-color: #40a365 !important;
  }

  #drip-106703 .drip-submit-button:active {
    background-color: #3c9b5f !important;
  }

  #drip-106703 dl dt,
  #drip-106703 .drip-content .drip-description,
  #drip-106703 .drip-errors {
    font-size: 18px !important;
  }

  #drip-106703 .drip-text-field {
    font-size: 18px !important;
  }

  /* === Reset styles === */

  .drip-tab h1,
  .drip-tab h2,
  .drip-tab h3,
  .drip-tab div,
  .drip-tab dl,
  .drip-tab dt,
  .drip-tab dd,
  .drip-tab p,
  .drip-tab a,
  .drip-tab .drip-text-field,
  .drip-tab .drip-text-field:focus,
  .drip-tab .drip-submit-button {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    float: none;
    width: auto;
    background-image: none;
    letter-spacing: 0;
    -webkit-box-shadow: none;
       -moz-box-shadow: none;
            box-shadow: none;
    -webkit-text-shadow: none !important;
       -moz-text-shadow: none !important;
            text-shadow: none !important;
  }

  .drip-tab a {
    text-decoration: none;
    color: #43ac6a !important;
  }

  .drip-tab :focus {
    outline: 0;
  }

  /* === Clearfix === */

  .drip-clearfix:after {
    visibility: hidden;
    display: block;
    font-size: 0;
    content: " ";
    clear: both;
    height: 0;
  }
  * html .drip-clearfix             { zoom: 1; } /* IE6 */
  *:first-child+html .drip-clearfix { zoom: 1; } /* IE7 */

  /* === Main Container === */

  .drip-tab-container * {
    box-sizing: content-box;
  }

  /* === Content === */

  .drip-tab .drip-content {
    margin: 0;
    padding: 0;
    width: 380px;
    position: fixed;
    font-size: 100%;
    font: inherit;
    z-index: 10000;
    color: #333;
    vertical-align: baseline;
    text-align: left;
    background-color: #ffffff;
    -webkit-box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
       -moz-box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
            box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
  }

  .drip-tab.bottom .drip-content {
    bottom: -800px;
    -webkit-border-radius: 8px 8px 0 0;
       -moz-border-radius: 8px 8px 0 0;
            border-radius: 8px 8px 0 0;
    -webkit-transition: bottom 200ms ease-in;
       -moz-transition: bottom 200ms ease-in;
         -o-transition: bottom 200ms ease-in;
            transition: bottom 200ms ease-in;
  }

  .drip-tab.bottom.left .drip-content {
    left: 40px;
  }

  .drip-tab.bottom.right .drip-content {
    right: 40px;
  }

  .drip-tab.side-image .drip-content {
    width: 650px;
  }

  .drip-tab.side .drip-content {
    top: 10%;
  }

  .drip-tab.side.right .drip-content {
    right: -675px;
    -webkit-border-radius: 8px 0 0 8px;
       -moz-border-radius: 8px 0 0 8px;
            border-radius: 8px 0 0 8px;
    -webkit-transition: right 200ms ease-in;
       -moz-transition: right 200ms ease-in;
         -o-transition: right 200ms ease-in;
            transition: right 200ms ease-in;
  }

  .drip-tab.side.left .drip-content {
    left: -675px;
    -webkit-border-radius: 0 8px 8px 0;
       -moz-border-radius: 0 8px 8px 0;
            border-radius: 0 8px 8px 0;
    -webkit-transition: left 200ms ease-in;
       -moz-transition: left 200ms ease-in;
         -o-transition: left 200ms ease-in;
            transition: left 200ms ease-in;
  }

  .drip-tab.mobile .drip-content {
    width: 100% !important;
    bottom: -800px;
    left: 0;
    -webkit-border-radius: 0;
       -moz-border-radius: 0;
            border-radius: 0;
    -webkit-transition: bottom 200ms ease-in;
       -moz-transition: bottom 200ms ease-in;
         -o-transition: bottom 200ms ease-in;
            transition: bottom 200ms ease-in;
  }

  .drip-tab.drip-scrollable .drip-content {
    overflow-y: scroll;
  }

  /* === Header === */

  .drip-tab .drip-header {
    margin: 0;
    padding: 0;
    position: fixed;
    font-size: 100%;
    font: inherit;
    z-index: 10000;
    color: #333;
    vertical-align: baseline;
    text-align: left;
    -webkit-border-radius: 8px 8px 0 0;
       -moz-border-radius: 8px 8px 0 0;
            border-radius: 8px 8px 0 0;
    -webkit-box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
       -moz-box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
            box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
  }

  .drip-tab.bottom .drip-header {
    width: 380px;
    bottom: 0;
    -webkit-transition: bottom 200ms ease-in;
       -moz-transition: bottom 200ms ease-in;
         -o-transition: bottom 200ms ease-in;
            transition: bottom 200ms ease-in;
  }

  .drip-tab.bottom .drip-header.drip-hidden {
    bottom: -800px;
  }

  .drip-tab.bottom.left .drip-header {
    left: 40px;
  }

  .drip-tab.bottom.right .drip-header {
    right: 40px;
  }

  .drip-tab.bottom.image-left .drip-header,
  .drip-tab.bottom.image-right .drip-header {
    width: 510px;
  }

  .drip-tab.side .drip-header {
    width: 340px;
    top: 10%;
  }

  .drip-tab.side.right .drip-header {
    right: -100px;
    -webkit-transition: right 400ms ease-in;
       -moz-transition: right 400ms ease-in;
         -o-transition: right 400ms ease-in;
            transition: right 400ms ease-in;
    -webkit-transform: rotate(-90deg) !important;
       -moz-transform: rotate(-90deg) !important;
        -ms-transform: rotate(-90deg) !important;
         -o-transform: rotate(-90deg) !important;
            transform: rotate(-90deg) !important;
    -webkit-transform-origin: right center;
       -moz-transform-origin: right center;
         -o-transform-origin: right center;
            transform-origin: right center;
  }

  .drip-tab.side.right .drip-header.drip-hidden {
    right: -100px;
  }

  .drip-tab.side.left .drip-header {
    left: -100px;
    -webkit-transition: left 400ms ease-in;
       -moz-transition: left 400ms ease-in;
         -o-transition: left 400ms ease-in;
            transition: left 400ms ease-in;
    -webkit-transform: rotate(90deg) !important;
       -moz-transform: rotate(90deg) !important;
        -ms-transform: rotate(90deg) !important;
         -o-transform: rotate(90deg) !important;
            transform: rotate(90deg) !important;
    -webkit-transform-origin: left center;
       -moz-transform-origin: left center;
         -o-transform-origin: left center;
            transform-origin: left center;
  }

  .drip-tab.side.left .drip-header.drip-hidden {
    left: -100px;
  }

  .drip-tab.mobile .drip-header {
    width: 100% !important;
    bottom: 0;
    left: 0;
    -webkit-border-radius: 0;
       -moz-border-radius: 0;
            border-radius: 0;
    -webkit-transition: bottom 200ms ease-in;
       -moz-transition: bottom 200ms ease-in;
         -o-transition: bottom 200ms ease-in;
            transition: bottom 200ms ease-in;
  }

  .drip-tab.mobile .drip-header.drip-hidden {
    bottom: -300px;
  }

  /* === Header Toggle === */

  .drip-tab .drip-toggle {
    display: block;
    text-decoration: none;
    padding: 10px 50px 10px 25px; /* extra padding for the arrow */
  }

  /* === Teaser === */

  .drip-tab .drip-header h2 {
    display: block;
    margin: 0 !important;
    padding: 0 !important;
    border: 0 !important;
    font-size: 16px !important;
    line-height: 1.5 !important;
    font-weight: bold !important;
    text-align: left !important;
    color: #fff !important;
    clear: none !important;
    letter-spacing: 0 !important;
    width: auto !important;
  }

  /* === Arrows === */

  .drip-tab .drip-header span.drip-arrow {
    display: block;
    position: absolute;
    margin: 0;
    padding: 0;
    width: 0;
    height: 0;
    line-height: 0;
    top: 20px;
    right: 32px;
  }

  /* === Panel === */

  .drip-tab .drip-content > div.drip-panel {
    padding: 25px;
    background-color: #fff;
    -webkit-border-radius: 6px;
       -moz-border-radius: 6px;
            border-radius: 6px;
  }

  .drip-tab.bottom .drip-content > div.drip-panel {
    -webkit-border-radius: 6px 6px 0 0;
       -moz-border-radius: 6px 6px 0 0;
            border-radius: 6px 6px 0 0;
  }

  .drip-tab.side.left .drip-content > div.drip-panel {
    -webkit-border-radius: 0 6px 6px 0;
       -moz-border-radius: 0 6px 6px 0;
            border-radius: 0 6px 6px 0;
  }

  .drip-tab.side.right .drip-content > div.drip-panel  {
    -webkit-border-radius: 6px 0 0 6px;
       -moz-border-radius: 6px 0 0 6px;
            border-radius: 6px 0 0 6px;
  }

  /* === Powered By === */

  .drip-tab .drip-powered-by {
    padding: 8px;
    text-align: left;
    font-weight: normal;
    font-size: 10px;
    line-height: 16px;
    color: #A8ACB9;
    text-align: right;
    margin-right: 25px;
    text-transform: uppercase;
    display: -webkit-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    justify-content: flex-end;
    align-items: center;
  }

  .drip-tab .drip-powered-by a {
    color: #A8ACB9 !important;
    text-decoration: underline !important;
    margin-left: 6px;
  }

  /* === Content Sections === */

  .drip-tab.side-image .drip-form-aside {
    width: 245px;
    text-align: center;
  }

  .drip-tab.image-left .drip-form-main {
    margin-left: 270px;
  }

  .drip-tab.image-right .drip-form-main {
    margin-right: 270px;
  }

  .drip-tab.image-left .drip-form-aside {
    float: left;
  }

  .drip-tab.image-right .drip-form-aside {
    float: right;
  }

  @media screen and (max-width: 650px) {
    .drip-tab.side-image .drip-content {
      width: 380px;
    }

    .drip-tab.side-image .drip-form-main {
      margin-left: 0;
      margin-right: 0;
    }

    .drip-tab.side-image .drip-form-aside {
      display: none;
    }
  }

  /* === Content Headings & Paragraphs === */

  .drip-tab .drip-content h3 {
    display: block;
    margin: 0 20px 0 0 !important;
    padding: 0 0 15px 0 !important;
    line-height: 1.4 !important;
    font-weight: bold !important;
    text-align: left !important;
    color: #4477bd !important;
    clear: none !important;
  }

  .drip-tab .drip-content .drip-description {
    margin: 0;
    padding: 0 0 20px 0;
    line-height: 1.4;
    text-align: left;
    color: #4F5362;
  }

  .drip-tab .drip-content .drip-post-submission {
    padding: 0;
  }

  .drip-tab .drip-content .drip-description a {
    text-decoration: underline;
  }

  .drip-tab .drip-content .drip-description em {
    font-style: italic;
  }

  .drip-tab .drip-content .drip-description ul,
  .drip-tab .drip-content .drip-description ol {
    list-style-position: outside;
    margin: 8px 0 8px 30px;
  }

  .drip-tab .drip-content .drip-description ul li
  .drip-tab .drip-content .drip-description ol li {
    padding: 0;
  }

  .drip-tab .drip-content .drip-image-center-helper {
    display: inline-block;
    height: 100%;
    vertical-align: middle;
  }

  .drip-tab .drip-content img.drip-image {
    max-width: 245px;
    vertical-align: middle;
  }

  .drip-tab .drip-content a.drip-close {
    position: absolute;
    right: 25px;
    top: 25px;
  }

  .drip-tab .drip-content a.drip-close:hover {
    cursor: pointer;
  }

  /* === Content Subscribe Form === */

  .drip-tab form {
    margin: 0 !important;
    padding: 0 !important;
  }

  .drip-tab dl {
    display: block;
    margin: 0;
    padding: 0 0 5px 0;
  }

  .drip-tab dl dt {
    display: block;
    padding: 0 0 5px 0;
    font-weight: bold;
    color: #4F5362;
  }

  .drip-tab dl.no-labels dt {
    display: none;
  }

  .drip-tab dl dd {
    display: block;
    padding: 0 0 8px 0;
  }

  .drip-tab .drip-text-field {
    margin: 0 !important;
    padding: 10px 12px !important;
    height: auto !important;
    width: 100% !important;
    color: #4F5362 !important;
    background-color: #fff !important;
    border: 1px solid #A8ACB9 !important;
    -webkit-border-radius: 3px !important;
       -moz-border-radius: 3px !important;
            border-radius: 3px !important;
    -webkit-box-sizing: border-box !important;
       -moz-box-sizing: border-box !important;
        -ms-box-sizing: border-box !important;
            box-sizing: border-box !important;
    background-image: none !important;
    min-width: 0 !important;
    min-height: 0 !important;
  }

  .drip-tab .drip-text-field::-webkit-input-placeholder { /* WebKit browsers */
    color: #A8ACB9 !important;
  }
  .drip-tab .drip-text-field:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
    color: #A8ACB9 !important;
  }
  .drip-tab .drip-text-field::-moz-placeholder { /* Mozilla Firefox 19+ */
    color: #A8ACB9 !important;
  }
  .drip-tab .drip-text-field:-ms-input-placeholder { /* Internet Explorer 10+ */
    color: #A8ACB9 !important;
  }

  .drip-tab .drip-text-field:focus {
    border-color: #9398a9 !important;
    outline: 0;
    background-image: none;
    background-color: #fff !important;
  }

  .drip-tab.mobile .drip-text-field {
    font-size: 16px;
  }

  .drip-tab .drip-errors {
    padding: 5px 0 0 0;
    font-weight: normal;
    color: red;
  }

  .drip-tab .drip-submit-button {
    padding: 6px 26px !important;
    color: #ffffff !important;
    font-weight: bold !important;
    line-height: 1.6 !important;
    border: 0 !important;
    -webkit-border-radius: 3px !important;
       -moz-border-radius: 3px !important;
            border-radius: 3px !important;
    cursor: pointer !important;
    background-image: none !important;
    min-width: 0 !important;
    min-height: 0 !important;
    height: auto;
    transition: background 0.2s ease !important;
  }

  .drip-tab .drip-submit-button:hover {
    background-image: none !important;
  }

  .drip-tab .drip-submit-button:active {
    background-image: none !important;
  }

  /* checkbox */

  .drip-tab input,
  .drip-tab textarea {
    display: block;
    box-shadow: none;
    position: relative;
    border: 1px solid #cccccc;
    outline: none;
    border-radius: 3px;
    font: inherit;
    color: #262626;
    padding: 12px 18px;
    transition: border-color 300ms;
    width: 100%;
  }

  .drip-tab .zenput--checkbox.hidden {
    margin-bottom: -8px;
    display: none;
  }

  .drip-tab .zenput--checkbox input[type="checkbox"] {
    height: 0;
    width: 0;
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
  }

  .drip-tab .zenput--checkbox input[type="checkbox"] ~ .zenput__checkbox-label {
    font: inherit;
    font-size: 16px;
    line-height: 30px;
    color: #262626;
    cursor: pointer;
    white-space: normal;
    word-break: normal;
    display: block;
    padding-left: 36px;
    position: relative;
    transition: color 300ms
  }

  .drip-tab .zenput--checkbox input[type="checkbox"]~ .zenput__checkbox-label .zenput__checkbox-label__icon {
    content: "";
    display: block;
    background: #f5f5f5;
    width: 24px;
    height: 24px;
    position: absolute;
    top: 3px;
    left: 0;
    border-radius: 3px;
    border: 1px solid #cccccc;
    box-sizing: border-box;
    padding: 3px;
    transition: background 300ms ease-out, border-color 300ms;
  }

  .drip-tab .zenput--checkbox input[type="checkbox"] ~ .zenput__checkbox-label .zenput__checkbox-label__icon svg {
    opacity: 0;
    width: 16px;
    display: block;
    fill: #cccccc;
    transition: opacity 300ms ease-out;
  }

  .drip-tab .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label {
    color: #333 !important;
  }
  .drip-tab .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label .zenput__checkbox-label__icon {
    background-color: #ffffff;
    border-color: #a8acb9;
  }
  .drip-tab .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label .zenput__checkbox-label__icon svg {
    fill: #43ac6a !important;
    opacity: 1;
  }

  /* hover state */

  .drip-tab .zenput--checkbox input:not([disabled]):not(:checked) ~ .zenput__checkbox-label:hover {
    color: #262626;
  }

  .drip-tab .zenput--checkbox input:not([disabled]):not(:checked) ~ .zenput__checkbox-label:hover  .zenput__checkbox-label__icon {
    border-color: var(--gray-9);
  }

  .drip-tab .zenput--checkbox input:not([disabled]):not(:checked) ~ .zenput__checkbox-label:hover  .zenput__checkbox-label__icon svg {
    opacity: 1;
  }

  /* active state */

  .drip-tab .zenput--checkbox input:not([disabled]) ~ .zenput__checkbox-label:active {
    color: #f224f2;
  }

  /* focus state */

  .drip-tab .zenput--checkbox input:not([disabled]) ~ .zenput__checkbox-label:focus .zenput__checkbox-label__icon,
  .drip-tab .zenput--checkbox input:not([disabled]):focus ~ .zenput__checkbox-label .zenput__checkbox-label__icon {
    border-color: #262626;
  }

  /* stylelint-enable */

</style><style type="text/css">
  /* === Form-Specific Styles === */
  /* stylelint-disable */

  #drip-108609 {
    background: #fff !important;
  }

  #drip-108609 .drip-content h3 {
    color: #f9a82f !important;
    font-size: 28px !important;
  }

  #drip-108609 .drip-submit-button {
    background-color: #f9a82f !important;
    font-size: 19px !important;
  }

  #drip-108609 .drip-submit-button:hover {
    background-color: #eda02d !important;
  }

  #drip-108609 .drip-submit-button:active {
    background-color: #e0972a !important;
  }

  #drip-108609 dl dt,
  #drip-108609 .drip-content .drip-description,
  #drip-108609 .drip-errors {
    font-size: 16px !important;
  }

  #drip-108609 .drip-text-field {
    font-size: 16px !important;
  }

  /* === Reset styles === */

  .drip-lightbox h1,
  .drip-lightbox h2,
  .drip-lightbox h3,
  .drip-lightbox div,
  .drip-lightbox dl,
  .drip-lightbox dt,
  .drip-lightbox dd,
  .drip-lightbox p,
  .drip-lightbox a,
  .drip-lightbox .drip-text-field,
  .drip-lightbox .drip-text-field:focus,
  .drip-lightbox .drip-submit-button {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    float: none;
    width: auto;
    background-image: none;
    letter-spacing: 0;
    -webkit-box-shadow: none;
       -moz-box-shadow: none;
            box-shadow: none;
    -webkit-text-shadow: none !important;
       -moz-text-shadow: none !important;
            text-shadow: none !important;
  }

  .drip-lightbox a {
    text-decoration: none;
    color: #f9a82f !important;
  }

  .drip-lightbox :focus {
    outline: 0;
  }

  .drip-lightbox input::-webkit-input-placeholder { /* WebKit browsers */
    color: #A8ACB9 !important;
  }
  .drip-lightbox input:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
    color: #A8ACB9 !important;
  }
  .drip-lightbox input::-moz-placeholder { /* Mozilla Firefox 19+ */
    color: #A8ACB9 !important;
  }
  .drip-lightbox input:-ms-input-placeholder { /* Internet Explorer 10+ */
    color: #A8ACB9 !important;
  }

  /* === Clearfix === */

  .drip-clearfix:after {
    visibility: hidden;
    display: block;
    font-size: 0;
    content: " ";
    clear: both;
    height: 0;
  }
  * html .drip-clearfix             { zoom: 1; } /* IE6 */
  *:first-child+html .drip-clearfix { zoom: 1; } /* IE7 */

  /* === Backdrop === */

  .drip-backdrop {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 10000;
    background-color: #000;
    opacity: 0;
    -webkit-transition: opacity .3s linear;
       -moz-transition: opacity .3s linear;
         -o-transition: opacity .3s linear;
            transition: opacity .3s linear;
  }

  .drip-backdrop.drip-in {
    opacity: 0.2;
  }

  .drip-backdrop.drip-hidden {
    display: none;
  }

  /* === Main Container === */

  .drip-lightbox-wrapper * {
    box-sizing: content-box;
  }

  /* === Content === */

  .drip-lightbox .drip-content {
    margin: 0 0 0 -190px;
    padding: 0;
    position: fixed;
    width: 380px;
    top: -25%;
    left: 50%;
    font-size: 100%;
    z-index: 11000;
    color: #333;
    vertical-align: baseline;
    background-color: #ffffff;
    opacity: 0;
    -webkit-border-radius: 8px;
       -moz-border-radius: 8px;
            border-radius: 8px;
    -webkit-box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
       -moz-box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
            box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
    -webkit-transition: opacity .3s linear, top .3s ease-out, bottom 200ms ease-in;
       -moz-transition: opacity .3s linear, top .3s ease-out, bottom 200ms ease-in;;
         -o-transition: opacity .3s linear, top .3s ease-out, bottom 200ms ease-in;;
            transition: opacity .3s linear, top .3s ease-out, bottom 200ms ease-in;;
  }

  .drip-lightbox.drip-in .drip-content {
    top: 15%;
    opacity: 1;
  }

  .drip-lightbox.drip-hidden .drip-content {
    display: none;
  }

  .drip-lightbox.side-image .drip-content {
    margin-left: -325px;
    width: 650px;
  }

  .drip-lightbox.mobile .drip-content {
    margin: 0;
    width: 100%;
    left: 0;
    top: auto;
    -webkit-border-radius: 0;
       -moz-border-radius: 0;
            border-radius: 0;
  }

  .drip-lightbox.mobile.drip-in .drip-content {
    top: auto;
    bottom: 0;
  }

  .drip-lightbox.drip-scrollable .drip-content {
    overflow-y: scroll;
  }

  /* === Teaser === */

  .drip-lightbox .drip-header h2 {
    display: block;
    margin: 0 !important;
    padding: 12px 0 !important;
    font-size: 14px !important;
    line-height: 13px !important;
    font-weight: bold !important;
    color: #fff !important;
    letter-spacing: 0 !important;
  }

  /* === Panel === */

  .drip-lightbox .drip-content > div.drip-panel {
    padding: 25px;
    background-color: #fff;
    -webkit-border-radius: 6px;
       -moz-border-radius: 6px;
            border-radius: 6px;
  }

  /* === Powered By === */

  .drip-lightbox .drip-powered-by {
    padding: 8px;
    text-align: left;
    font-weight: normal;
    font-size: 10px;
    line-height: 16px;
    color: #A8ACB9;
    text-align: right;
    margin-right: 25px;
    text-transform: uppercase;
    display: -webkit-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    justify-content: flex-end;
    align-items: center;
  }

  .drip-lightbox .drip-powered-by a {
    color: #A8ACB9 !important;
    text-decoration: underline !important;
    margin-left: 6px;
  }

  /* === Content Sections === */

  .drip-lightbox.side-image .drip-form-aside {
    width: 245px;
    text-align: center;
  }

  .drip-lightbox.image-left .drip-form-main {
    margin-left: 270px;
  }

  .drip-lightbox.image-right .drip-form-main {
    margin-right: 270px;
  }

  .drip-lightbox.image-left .drip-form-aside {
    float: left;
  }

  .drip-lightbox.image-right .drip-form-aside {
    float: right;
  }

  @media screen and (max-width: 650px) {
    /* prevent overriding mobile class styles */
    .drip-lightbox.side-image:not(.mobile) .drip-content {
      margin-left: -190px;
      width: 380px;
    }

    .drip-lightbox.side-image .drip-form-main {
      margin-left: 0;
      margin-right: 0;
    }

    .drip-lightbox.side-image .drip-form-aside {
      display: none;
    }
  }

  /* === Content Headings & Paragraphs === */

  .drip-lightbox .drip-content h3 {
    display: block;
    margin: 0 20px 0 0 !important;
    padding: 0 0 15px 0 !important;
    line-height: 1.4 !important;
    font-weight: bold !important;
    text-align: left !important;
    color: #4477bd !important;
    clear: none !important;
  }

  .drip-lightbox .drip-content .drip-description {
    margin: 0;
    padding: 0 0 20px 0;
    line-height: 1.6;
    text-align: left;
  }

  .drip-lightbox .drip-content .drip-post-submission {
    padding: 0;
  }

  .drip-lightbox .drip-content .drip-description a {
    text-decoration: underline;
  }

  .drip-lightbox .drip-content .drip-description em {
    font-style: italic;
  }

  .drip-lightbox .drip-content .drip-description ul,
  .drip-lightbox .drip-content .drip-description ol {
    list-style-position: outside;
    margin: 8px 0 8px 30px;
  }

  .drip-lightbox .drip-content .drip-description ul li
  .drip-lightbox .drip-content .drip-description ol li {
    padding: 0;
  }

  .drip-lightbox .drip-content img.drip-image {
    margin-bottom: 20px;
  }

  .drip-lightbox .drip-content .drip-image-center-helper {
    display: inline-block;
    height: 100%;
    vertical-align: middle;
  }

  .drip-lightbox .drip-content img.drip-image {
    max-width: 245px;
    vertical-align: middle;
  }

  .drip-lightbox .drip-content a.drip-close {
    position: absolute;
    right: 25px;
    top: 25px;
  }

  .drip-lightbox .drip-content a.drip-close:hover {
    cursor: pointer;
  }

  /* === Content Subscribe Form === */

  .drip-lightbox form {
    margin: 0 !important;
    padding: 0 !important;
  }

  .drip-lightbox dl {
    display: block;
    margin: 0;
    padding: 0 0 5px 0;
  }

  .drip-lightbox dl dt {
    display: block;
    padding: 0 0 5px 0;
    /* font-size: 13px; */
    font-weight: bold;
  }

  .drip-lightbox dl.no-labels dt {
    display: none;
  }

  .drip-lightbox dl dd {
    display: block;
    padding: 0 0 8px 0;
  }

  .drip-lightbox .drip-text-field {
    margin: 0 !important;
    padding: 10px 12px !important;
    height: auto !important;
    width: 100% !important;
    color: #4F5362 !important;
    background-color: #fff !important;
    border: 1px solid #A8ACB9 !important;
    -webkit-border-radius: 3px !important;
       -moz-border-radius: 3px !important;
            border-radius: 3px !important;
    -webkit-box-sizing: border-box !important;
       -moz-box-sizing: border-box !important;
        -ms-box-sizing: border-box !important;
            box-sizing: border-box !important;
    background-image: none !important;
    min-width: 0 !important;
    min-height: 0 !important;
  }

  .drip-lightbox .drip-text-field:focus {
    border-color: #9398a9 !important;
    outline: 0;
    background-image: none;
    background-color: #fff !important;
  }

  .drip-lightbox.mobile .drip-text-field {
    font-size: 16px;
  }

  .drip-lightbox .drip-errors {
    padding: 5px 0 0 0;
    font-weight: normal;
    color: red;
  }

  .drip-lightbox .drip-submit-button {
    padding: 6px 26px !important;
    color: #ffffff !important;
    font-weight: bold !important;
    line-height: 1.6 !important;
    border: 0 !important;
    -webkit-border-radius: 3px !important;
       -moz-border-radius: 3px !important;
            border-radius: 3px !important;
    cursor: pointer !important;
    background-image: none !important;
    min-width: 0 !important;
    min-height: 0 !important;
    height: auto;
    transition: background 0.2s ease !important;
    -webkit-box-shadow: 0px 2px 4px rgba(0,0,0,0.20);
       -moz-box-shadow: 0px 2px 4px rgba(0,0,0,0.20);
            box-shadow: 0px 2px 4px rgba(0,0,0,0.20);
  }

  .drip-lightbox .drip-submit-button:hover {
    background-image: none !important;
  }

  .drip-lightbox .drip-submit-button:active {
    background-image: none !important;
  }

  /* checkbox */

  .drip-lightbox input,
  .drip-lightbox textarea {
    display: block;
    box-shadow: none;
    position: relative;
    border: 1px solid #cccccc;
    outline: none;
    border-radius: 3px;
    font: inherit;
    color: #262626;
    padding: 12px 18px;
    transition: border-color 300ms;
    width: 100%;
  }

  .drip-lightbox .zenput--checkbox.hidden {
    margin-bottom: -8px;
    display: none;
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"] {
    height: 0;
    width: 0;
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"] ~ .zenput__checkbox-label {
    font: inherit;
    font-size: 16px;
    line-height: 30px;
    color: #262626;
    cursor: pointer;
    white-space: normal;
    word-break: break-word;
    display: block;
    padding-left: 36px;
    position: relative;
    transition: color 300ms
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"] ~ .zenput__checkbox-label .zenput__checkbox-label__icon {
    content: "";
    display: block;
    background: #f5f5f5;
    width: 24px;
    height: 24px;
    position: absolute;
    top: 3px;
    left: 0;
    border-radius: 3px;
    border: 1px solid #cccccc;
    box-sizing: border-box;
    padding: 3px;
    transition: background 300ms ease-out, border-color 300ms;
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"] ~ .zenput__checkbox-label .zenput__checkbox-label__icon svg {
    opacity: 0;
    width: 16px;
    display: block;
    fill: #cccccc;
    transition: opacity 300ms ease-out;
  }

  .drip-lightbox .zenput--checkbox .zenput__checkbox-label .zenput__checkbox-label__icon .octicon-dash {
    display: none;
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label {
    color: #333 !important;
  }
  .drip-lightbox .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label .zenput__checkbox-label__icon {
    background-color: #ffffff;
    border-color: #a8acb9;
  }
  .drip-lightbox .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label .zenput__checkbox-label__icon svg {
    fill: #f9a82f !important;
    opacity: 1;
  }
  /* stylelint-enable */

</style><style type="text/css">
  /* === Form-Specific Styles === */
  /* stylelint-disable */

  #drip-108599 {
    background: #fff !important;
  }

  #drip-108599 .drip-content h3 {
    color: #f9a82f !important;
    font-size: 28px !important;
  }

  #drip-108599 .drip-submit-button {
    background-color: #f9a82f !important;
    font-size: 19px !important;
  }

  #drip-108599 .drip-submit-button:hover {
    background-color: #eda02d !important;
  }

  #drip-108599 .drip-submit-button:active {
    background-color: #e0972a !important;
  }

  #drip-108599 dl dt,
  #drip-108599 .drip-content .drip-description,
  #drip-108599 .drip-errors {
    font-size: 16px !important;
  }

  #drip-108599 .drip-text-field {
    font-size: 16px !important;
  }

  /* === Reset styles === */

  .drip-lightbox h1,
  .drip-lightbox h2,
  .drip-lightbox h3,
  .drip-lightbox div,
  .drip-lightbox dl,
  .drip-lightbox dt,
  .drip-lightbox dd,
  .drip-lightbox p,
  .drip-lightbox a,
  .drip-lightbox .drip-text-field,
  .drip-lightbox .drip-text-field:focus,
  .drip-lightbox .drip-submit-button {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    float: none;
    width: auto;
    background-image: none;
    letter-spacing: 0;
    -webkit-box-shadow: none;
       -moz-box-shadow: none;
            box-shadow: none;
    -webkit-text-shadow: none !important;
       -moz-text-shadow: none !important;
            text-shadow: none !important;
  }

  .drip-lightbox a {
    text-decoration: none;
    color: #f9a82f !important;
  }

  .drip-lightbox :focus {
    outline: 0;
  }

  .drip-lightbox input::-webkit-input-placeholder { /* WebKit browsers */
    color: #A8ACB9 !important;
  }
  .drip-lightbox input:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
    color: #A8ACB9 !important;
  }
  .drip-lightbox input::-moz-placeholder { /* Mozilla Firefox 19+ */
    color: #A8ACB9 !important;
  }
  .drip-lightbox input:-ms-input-placeholder { /* Internet Explorer 10+ */
    color: #A8ACB9 !important;
  }

  /* === Clearfix === */

  .drip-clearfix:after {
    visibility: hidden;
    display: block;
    font-size: 0;
    content: " ";
    clear: both;
    height: 0;
  }
  * html .drip-clearfix             { zoom: 1; } /* IE6 */
  *:first-child+html .drip-clearfix { zoom: 1; } /* IE7 */

  /* === Backdrop === */

  .drip-backdrop {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 10000;
    background-color: #000;
    opacity: 0;
    -webkit-transition: opacity .3s linear;
       -moz-transition: opacity .3s linear;
         -o-transition: opacity .3s linear;
            transition: opacity .3s linear;
  }

  .drip-backdrop.drip-in {
    opacity: 0.2;
  }

  .drip-backdrop.drip-hidden {
    display: none;
  }

  /* === Main Container === */

  .drip-lightbox-wrapper * {
    box-sizing: content-box;
  }

  /* === Content === */

  .drip-lightbox .drip-content {
    margin: 0 0 0 -190px;
    padding: 0;
    position: fixed;
    width: 380px;
    top: -25%;
    left: 50%;
    font-size: 100%;
    z-index: 11000;
    color: #333;
    vertical-align: baseline;
    background-color: #ffffff;
    opacity: 0;
    -webkit-border-radius: 8px;
       -moz-border-radius: 8px;
            border-radius: 8px;
    -webkit-box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
       -moz-box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
            box-shadow: 0px 10px 28px rgba(0,0,0,0.36);
    -webkit-transition: opacity .3s linear, top .3s ease-out, bottom 200ms ease-in;
       -moz-transition: opacity .3s linear, top .3s ease-out, bottom 200ms ease-in;;
         -o-transition: opacity .3s linear, top .3s ease-out, bottom 200ms ease-in;;
            transition: opacity .3s linear, top .3s ease-out, bottom 200ms ease-in;;
  }

  .drip-lightbox.drip-in .drip-content {
    top: 15%;
    opacity: 1;
  }

  .drip-lightbox.drip-hidden .drip-content {
    display: none;
  }

  .drip-lightbox.side-image .drip-content {
    margin-left: -325px;
    width: 650px;
  }

  .drip-lightbox.mobile .drip-content {
    margin: 0;
    width: 100%;
    left: 0;
    top: auto;
    -webkit-border-radius: 0;
       -moz-border-radius: 0;
            border-radius: 0;
  }

  .drip-lightbox.mobile.drip-in .drip-content {
    top: auto;
    bottom: 0;
  }

  .drip-lightbox.drip-scrollable .drip-content {
    overflow-y: scroll;
  }

  /* === Teaser === */

  .drip-lightbox .drip-header h2 {
    display: block;
    margin: 0 !important;
    padding: 12px 0 !important;
    font-size: 14px !important;
    line-height: 13px !important;
    font-weight: bold !important;
    color: #fff !important;
    letter-spacing: 0 !important;
  }

  /* === Panel === */

  .drip-lightbox .drip-content > div.drip-panel {
    padding: 25px;
    background-color: #fff;
    -webkit-border-radius: 6px;
       -moz-border-radius: 6px;
            border-radius: 6px;
  }

  /* === Powered By === */

  .drip-lightbox .drip-powered-by {
    padding: 8px;
    text-align: left;
    font-weight: normal;
    font-size: 10px;
    line-height: 16px;
    color: #A8ACB9;
    text-align: right;
    margin-right: 25px;
    text-transform: uppercase;
    display: -webkit-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    justify-content: flex-end;
    align-items: center;
  }

  .drip-lightbox .drip-powered-by a {
    color: #A8ACB9 !important;
    text-decoration: underline !important;
    margin-left: 6px;
  }

  /* === Content Sections === */

  .drip-lightbox.side-image .drip-form-aside {
    width: 245px;
    text-align: center;
  }

  .drip-lightbox.image-left .drip-form-main {
    margin-left: 270px;
  }

  .drip-lightbox.image-right .drip-form-main {
    margin-right: 270px;
  }

  .drip-lightbox.image-left .drip-form-aside {
    float: left;
  }

  .drip-lightbox.image-right .drip-form-aside {
    float: right;
  }

  @media screen and (max-width: 650px) {
    /* prevent overriding mobile class styles */
    .drip-lightbox.side-image:not(.mobile) .drip-content {
      margin-left: -190px;
      width: 380px;
    }

    .drip-lightbox.side-image .drip-form-main {
      margin-left: 0;
      margin-right: 0;
    }

    .drip-lightbox.side-image .drip-form-aside {
      display: none;
    }
  }

  /* === Content Headings & Paragraphs === */

  .drip-lightbox .drip-content h3 {
    display: block;
    margin: 0 20px 0 0 !important;
    padding: 0 0 15px 0 !important;
    line-height: 1.4 !important;
    font-weight: bold !important;
    text-align: left !important;
    color: #4477bd !important;
    clear: none !important;
  }

  .drip-lightbox .drip-content .drip-description {
    margin: 0;
    padding: 0 0 20px 0;
    line-height: 1.6;
    text-align: left;
  }

  .drip-lightbox .drip-content .drip-post-submission {
    padding: 0;
  }

  .drip-lightbox .drip-content .drip-description a {
    text-decoration: underline;
  }

  .drip-lightbox .drip-content .drip-description em {
    font-style: italic;
  }

  .drip-lightbox .drip-content .drip-description ul,
  .drip-lightbox .drip-content .drip-description ol {
    list-style-position: outside;
    margin: 8px 0 8px 30px;
  }

  .drip-lightbox .drip-content .drip-description ul li
  .drip-lightbox .drip-content .drip-description ol li {
    padding: 0;
  }

  .drip-lightbox .drip-content img.drip-image {
    margin-bottom: 20px;
  }

  .drip-lightbox .drip-content .drip-image-center-helper {
    display: inline-block;
    height: 100%;
    vertical-align: middle;
  }

  .drip-lightbox .drip-content img.drip-image {
    max-width: 245px;
    vertical-align: middle;
  }

  .drip-lightbox .drip-content a.drip-close {
    position: absolute;
    right: 25px;
    top: 25px;
  }

  .drip-lightbox .drip-content a.drip-close:hover {
    cursor: pointer;
  }

  /* === Content Subscribe Form === */

  .drip-lightbox form {
    margin: 0 !important;
    padding: 0 !important;
  }

  .drip-lightbox dl {
    display: block;
    margin: 0;
    padding: 0 0 5px 0;
  }

  .drip-lightbox dl dt {
    display: block;
    padding: 0 0 5px 0;
    /* font-size: 13px; */
    font-weight: bold;
  }

  .drip-lightbox dl.no-labels dt {
    display: none;
  }

  .drip-lightbox dl dd {
    display: block;
    padding: 0 0 8px 0;
  }

  .drip-lightbox .drip-text-field {
    margin: 0 !important;
    padding: 10px 12px !important;
    height: auto !important;
    width: 100% !important;
    color: #4F5362 !important;
    background-color: #fff !important;
    border: 1px solid #A8ACB9 !important;
    -webkit-border-radius: 3px !important;
       -moz-border-radius: 3px !important;
            border-radius: 3px !important;
    -webkit-box-sizing: border-box !important;
       -moz-box-sizing: border-box !important;
        -ms-box-sizing: border-box !important;
            box-sizing: border-box !important;
    background-image: none !important;
    min-width: 0 !important;
    min-height: 0 !important;
  }

  .drip-lightbox .drip-text-field:focus {
    border-color: #9398a9 !important;
    outline: 0;
    background-image: none;
    background-color: #fff !important;
  }

  .drip-lightbox.mobile .drip-text-field {
    font-size: 16px;
  }

  .drip-lightbox .drip-errors {
    padding: 5px 0 0 0;
    font-weight: normal;
    color: red;
  }

  .drip-lightbox .drip-submit-button {
    padding: 6px 26px !important;
    color: #ffffff !important;
    font-weight: bold !important;
    line-height: 1.6 !important;
    border: 0 !important;
    -webkit-border-radius: 3px !important;
       -moz-border-radius: 3px !important;
            border-radius: 3px !important;
    cursor: pointer !important;
    background-image: none !important;
    min-width: 0 !important;
    min-height: 0 !important;
    height: auto;
    transition: background 0.2s ease !important;
    -webkit-box-shadow: 0px 2px 4px rgba(0,0,0,0.20);
       -moz-box-shadow: 0px 2px 4px rgba(0,0,0,0.20);
            box-shadow: 0px 2px 4px rgba(0,0,0,0.20);
  }

  .drip-lightbox .drip-submit-button:hover {
    background-image: none !important;
  }

  .drip-lightbox .drip-submit-button:active {
    background-image: none !important;
  }

  /* checkbox */

  .drip-lightbox input,
  .drip-lightbox textarea {
    display: block;
    box-shadow: none;
    position: relative;
    border: 1px solid #cccccc;
    outline: none;
    border-radius: 3px;
    font: inherit;
    color: #262626;
    padding: 12px 18px;
    transition: border-color 300ms;
    width: 100%;
  }

  .drip-lightbox .zenput--checkbox.hidden {
    margin-bottom: -8px;
    display: none;
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"] {
    height: 0;
    width: 0;
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"] ~ .zenput__checkbox-label {
    font: inherit;
    font-size: 16px;
    line-height: 30px;
    color: #262626;
    cursor: pointer;
    white-space: normal;
    word-break: break-word;
    display: block;
    padding-left: 36px;
    position: relative;
    transition: color 300ms
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"] ~ .zenput__checkbox-label .zenput__checkbox-label__icon {
    content: "";
    display: block;
    background: #f5f5f5;
    width: 24px;
    height: 24px;
    position: absolute;
    top: 3px;
    left: 0;
    border-radius: 3px;
    border: 1px solid #cccccc;
    box-sizing: border-box;
    padding: 3px;
    transition: background 300ms ease-out, border-color 300ms;
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"] ~ .zenput__checkbox-label .zenput__checkbox-label__icon svg {
    opacity: 0;
    width: 16px;
    display: block;
    fill: #cccccc;
    transition: opacity 300ms ease-out;
  }

  .drip-lightbox .zenput--checkbox .zenput__checkbox-label .zenput__checkbox-label__icon .octicon-dash {
    display: none;
  }

  .drip-lightbox .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label {
    color: #333 !important;
  }
  .drip-lightbox .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label .zenput__checkbox-label__icon {
    background-color: #ffffff;
    border-color: #a8acb9;
  }
  .drip-lightbox .zenput--checkbox input[type="checkbox"]:checked ~ .zenput__checkbox-label .zenput__checkbox-label__icon svg {
    fill: #f9a82f !important;
    opacity: 1;
  }
  /* stylelint-enable */

</style><style id="up-pb-stylesheet" type="text/css">.up-pb-static { opacity: 0.001 !important; }</style><link rel="stylesheet" href="./Primer on Python Decorators – Real Python_files/OneSignalSDKStyles.css"><style id="UponitHideShow" type="text/css">.up-hide { display: none !important; }</style><link rel="prefetch" href="https://79e14226e860f265b30d5ac9bf29e81d.safeframe.googlesyndication.com/safeframe/1-0-37/html/container.html"><link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-37/html/container.html?upapi=true"></head>
<body><div id="StayFocusd-infobar" style="display: none; top: 0px;">
    <img src="chrome-extension://laankejkbhbdhmipfmgcngdelahlfoji/common/img/eye_19x19_red.png">
    <span id="StayFocusd-infobar-msg"></span>
    <span id="StayFocusd-infobar-links">
        <a id="StayFocusd-infobar-never-show">hide forever</a>&nbsp;&nbsp;|&nbsp;&nbsp;
        <a id="StayFocusd-infobar-hide">hide once</a>
    </span>
</div>
<nav class="navbar fixed-top navbar-expand-lg navbar-dark flex-column nav-message">
<div class="container flex-row">
<a class="navbar-brand" href="https://realpython.com/">
<img src="./Primer on Python Decorators – Real Python_files/real-python-logo.893c30edea53.svg" height="40" class="d-inline-block align-top" alt="Real Python">
</a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarSupportedContent">
<ul class="navbar-nav mr-2 flex-fill">
<li class="nav-item">
<a class="nav-link" href="https://realpython.com/start-here/">Start&nbsp;Here</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="https://realpython.com/primer-on-python-decorators/#" id="navbarDropdownLibrary" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<span class="fa fa-graduation-cap"></span> Learn Python
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownLibrary">
<a class="dropdown-item" href="https://realpython.com/" style="color: #ff7e73; line-height: 110%;"><i class="fa fa-fw mr-1 fa-graduation-cap"></i> Python Tutorials →<br><small class="text-secondary">In-depth articles and tutorials</small></a>
<a class="dropdown-item" href="https://realpython.com/courses/" style="color: #abe5b1; line-height: 110%;"><i class="fa fa-fw mr-1 fa-film"></i> Video Courses →<br><small class="text-secondary">Step-by-step video lessons</small></a>
<a class="dropdown-item" href="https://realpython.com/quizzes/" style="color: #abe0e5; line-height: 110%;"><i class="fa fa-fw mr-1 fa-trophy"></i> Quizzes →<br><small class="text-secondary">Check your learning progress</small></a>
<a class="dropdown-item" href="https://realpython.com/learning-paths/" style="color: #ffc873; line-height: 110%;"><i class="fa fa-fw mr-1 fa-map-o"></i> Learning Paths →<br><small class="text-secondary">Guided study plans for accelerated learning</small></a>
<a class="dropdown-item" href="https://realpython.com/community/" style="color: #e5c6ab; line-height: 110%;"><i class="fa fa-fw mr-1 fa-slack"></i> Community →<br><small class="text-secondary">Learn with other Pythonistas</small></a>
<a class="dropdown-item pb-3" href="https://realpython.com/tutorials/all/" style="color: #b8abe5; line-height: 110%;"><i class="fa fa-fw mr-1 fa-tags"></i> Topics →<br><small class="text-secondary">Focus on a specific area or skill level</small></a>
<a class="dropdown-item border-top" href="https://realpython.com/account/join/"><i class="fa fa-fw fa-star text-warning"></i> Unlock All Content</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="https://realpython.com/primer-on-python-decorators/#" id="navbarDropdownBooksCourses" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
Store
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownBooksCourses">
<a class="dropdown-item" href="https://realpython.com/account/join/"><i class="fa fa-fw fa-star text-warning"></i> RP Membership</a>
<a class="dropdown-item" href="https://realpython.com/products/python-basics-book/">Python Basics Book</a>
<a class="dropdown-item" href="https://realpython.com/products/python-tricks-book/">Python Tricks Book</a>
<a class="dropdown-item" href="https://realpython.com/products/cpython-internals-book/">CPython Internals Book</a>
<a class="dropdown-item" href="https://realpython.com/products/real-python-course/">The Real Python Course</a>
<a class="dropdown-item" href="https://realpython.com/products/managing-python-dependencies/">Managing Python Dependencies</a>
<a class="dropdown-item" href="https://realpython.com/products/sublime-python/">Sublime Text + Python Setup</a>
<a class="dropdown-item" href="https://realpython.com/products/pythonic-wallpapers/">Pythonic Wallpapers Pack</a>
<a class="dropdown-item" href="https://nerdlettering.com/" target="_blank">Python Mugs, T-Shirts, and More</a>
<a class="dropdown-item" href="https://www.pythonistacafe.com/" target="_blank">Pythonista Cafe Community</a>
<a class="dropdown-item border-top" href="https://realpython.com/products/">Browse All »</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="https://realpython.com/primer-on-python-decorators/#" id="navbarDropdownMore" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
More
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMore">
<a class="dropdown-item" href="https://realpython.com/newsletter/">Python Newsletter</a>
<a class="dropdown-item" href="https://realpython.com/podcasts/rpp/">Python Podcast</a>
<a class="dropdown-item" href="https://www.pythonjobshq.com/" target="_blank">Python Job Board</a>
<a class="dropdown-item" href="https://realpython.com/team/">Meet the Team</a>
<a class="dropdown-item" href="https://realpython.com/write-for-us/">Become a Tutorial Author</a>
<a class="dropdown-item" href="https://realpython.com/become-an-instructor/">Become a Video Instructor</a>
</div>
</li>
</ul>
<div class="d-block d-xl-none">
<ul class="navbar-nav">
<li class="nav-item">
<a class="nav-link" href="https://realpython.com/search" title="Search"><span class="d-block d-lg-none"><i class="fa fa-search"></i> Search</span><span class="d-none d-lg-block"><i class="fa fa-search"></i></span></a>
</li>
</ul>
</div>
<div class="d-none d-xl-flex align-items-center mr-2">
<form class="form-inline" action="https://realpython.com/search" method="GET">
<a class="position-absolute" href="https://realpython.com/search" title="Search"><i class="fa fa-search fa-fw text-muted pl-2"></i></a>
<input class="search-field form-control form-control-md mr-sm-1 mr-lg-2 w-100" style="padding-left: 2rem;" maxlength="50" type="search" placeholder="Search" aria-label="Search" name="q">
<input type="hidden" name="_from" value="nav">
</form>
</div>
<ul class="navbar-nav">
<li class="nav-item form-inline">
<a class="ml-2 ml-lg-0 btn btn-sm btn-primary px-3" href="https://realpython.com/account/join/">Join</a>
</li>
<li class="nav-item">
<a class="btn text-light" href="https://realpython.com/account/login/">Sign‑In</a>
</li>
</ul>
</div>
</div>
<div class="flex-row w-100" style="border-top: 1px dashed #ffc107 !important;">
<div class="container">
<a class="link-unstyled mx-auto" href="https://realpython.com/free-courses-march-2020"><p class="my-1 small"><span class="text-warning">😷<strong>Stuck at home?</strong> Enjoy free courses, on&nbsp;us&nbsp;→</span></p></a>
</div>
</div>
</nav>
<div class="container main-content">
<div class="row justify-content-center">
<div class="col-md-11 col-lg-8 article">
<figure class="embed-responsive embed-responsive-16by9">
<img class="card-img-top m-0 p-0 embed-responsive-item rounded" style="object-fit: contain;" alt="Python Decorators" src="./Primer on Python Decorators – Real Python_files/Primer-on-Python-Decorators_Watermarked.webp" width="1920" height="1080" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Primer-on-Python-Decorators_Watermarked.d0da542fa3fc.jpg&amp;w=480&amp;sig=45483afc98ba9e9ed26f1672d17d426e011761df 480w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Primer-on-Python-Decorators_Watermarked.d0da542fa3fc.jpg&amp;w=960&amp;sig=5b4082dbad29a1c1f1fdbe7b5de93af202663c6a 960w, https://files.realpython.com/media/Primer-on-Python-Decorators_Watermarked.d0da542fa3fc.jpg 1920w" sizes="75vw">
</figure>
<h1>Primer on Python Decorators</h1>
<p class="mb-0">
<span class="text-muted">by <a class="text-muted" href="https://realpython.com/primer-on-python-decorators/#author">Geir Arne Hjelle</a>
<span class="ml-2 mr-1 fa fa-comments"></span><a class="text-muted" href="https://realpython.com/primer-on-python-decorators/#reader-comments"><span class="disqus-comment-count" data-disqus-identifier="https://realpython.com/primer-on-python-decorators/">177 Comments</span></a>
<span class="ml-2 fa fa-tags"></span>
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
</span></p><div class="d-flex flex-row justify-content-between my-2">
<div class="align-self-center">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20Primer%20on%20Python%20Decorators%20by%20@realpython&amp;url=https%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0APrimer%20on%20Python%20Decorators%0A%0Ahttps%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
</div>
<p></p>
<div class="article-body">
<div class="bg-light sidebar-module sidebar-module-inset" id="toc">
<p class="h3 mb-2 text-muted">Table of Contents</p>
<div class="toc">
<ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#functions">Functions</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#first-class-objects">First-Class Objects</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#inner-functions">Inner Functions</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#returning-functions-from-functions">Returning Functions From Functions</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#simple-decorators">Simple Decorators</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#syntactic-sugar">Syntactic Sugar!</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#reusing-decorators">Reusing Decorators</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#decorating-functions-with-arguments">Decorating Functions With Arguments</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#returning-values-from-decorated-functions">Returning Values From Decorated Functions</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#who-are-you-really">Who Are You, Really?</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#a-few-real-world-examples">A Few Real World Examples</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#timing-functions">Timing Functions</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#debugging-code">Debugging Code</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#slowing-down-code">Slowing Down Code</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#registering-plugins">Registering Plugins</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#is-the-user-logged-in">Is the User Logged In?</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#fancy-decorators">Fancy Decorators</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#decorating-classes">Decorating Classes</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#nesting-decorators">Nesting Decorators</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#decorators-with-arguments">Decorators With Arguments</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#both-please-but-never-mind-the-bread">Both Please, But Never Mind the Bread</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#stateful-decorators">Stateful Decorators</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#classes-as-decorators">Classes as Decorators</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#more-real-world-examples">More Real World Examples</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#slowing-down-code-revisited">Slowing Down Code, Revisited</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#creating-singletons">Creating Singletons</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#caching-return-values">Caching Return Values</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#adding-information-about-units">Adding Information About Units</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#validating-json">Validating JSON</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#conclusion">Conclusion</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#further-reading">Further Reading</a></li>
</ul>
</div>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:12.5%;"></div>
<div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"><a href="https://srv.realpython.net/click/4625663842/?c=46248962562&amp;p=58946116052&amp;r=83596" rel="nofollow" target="_blank"><img src="./Primer on Python Decorators – Real Python_files/ea57fbacafb72406e9c9909517fb1c79" style="max-width: 100%; max-height: 100%; width: 100%;"></a></div>
</div>
</div>
<div class="border rounded p-3 card mb-2">
<p class="mb-0"><span class="badge badge-pill badge-success"><i class="fa fa-play-circle" aria-hidden="true"></i> Watch Now</span> This tutorial has a related video course created by the Real Python team. Watch it together with the written tutorial to deepen your understanding: <a class="stretched-link text-success" href="https://realpython.com/courses/python-decorators-101/"><strong>Python Decorators 101</strong></a></p>
</div>
<p>In this tutorial on decorators, we’ll look at what they are and how to create and use them. Decorators provide a simple syntax for calling <a href="http://en.wikipedia.org/wiki/Higher-order_function">higher-order functions</a>.</p>
<p>By definition, a decorator is a function that takes another function and extends the behavior of the latter function without explicitly modifying it.</p>
<p>This sounds confusing, but it’s really not, especially after you’ve seen a few examples of how decorators work. You can find all the examples from this article <a href="https://github.com/realpython/materials/tree/master/primer-on-python-decorators">here</a>.</p>
<div class="alert alert-warning" role="alert"><p><strong>Free Bonus:</strong> <a href="https://realpython.com/primer-on-python-decorators/" class="alert-link" data-toggle="modal" data-target="#modal-power-of-decorators-fixed" data-focus="false">Click here to get access to a free "The Power of Python Decorators" guide</a> that shows you 3 advanced decorator patterns and techniques you can use to write to cleaner and more Pythonic programs.</p></div>
<div class="alert alert-warning" role="alert"><p><strong>Decorators Cheat Sheet:</strong> <a href="https://realpython.com/bonus/decorators-cheatsheet/" class="alert-link" data-toggle="modal" data-target="#modal-decorators-cheatsheet" data-focus="false">Click here to get access to a free 3-page Python decorators cheat sheet</a> that summarizes the techniques explained in this tutorial.</p></div>
<div class="alert alert-warning" role="alert"><p><strong>Decorators Q&amp;A Transcript:</strong> <a href="https://realpython.com/bonus/decorators-qa-2019/" class="alert-link" data-toggle="modal" data-target="#modal-decorators-qa-2019" data-focus="false">Click here to get access to a 25-page chat log from our recent Python decorators Q&amp;A session</a> in the Real Python Community Slack where we discussed common decorator questions.</p></div>
<p><strong>Updates:</strong></p>
<ul>
<li><em>08/22/2018:</em> Major update adding more examples and more advanced decorators</li>
<li><em>01/12/2016:</em> Updated examples to Python 3 (v3.5.1) syntax and added a new example</li>
<li><em>11/01/2015:</em> Added a brief explanation on the <code>functools.wraps()</code> decorator</li>
</ul>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-4996" data-processed="true" class="up-show" data-guard-element="true"><div class="ahover" style="position: relative; width: max-content !important; z-index: 0; margin: 0px auto; display: block;"><iframe src="./Primer on Python Decorators – Real Python_files/saved_resource(2).html" marginwidth="0" marginheight="0" scrolling="no" style="width: 300px; height: 250px; border: 0px;" width="300" height="250"></iframe><div style="text-align: left; padding: 0px; margin: 0px; position: absolute; top: 0px; left: 0px; z-index: 10000; transition: opacity 1s ease-out 0s; opacity: 1;" class="upo-label"><span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">AD</span></div></div><div id="google_ads_iframe_/124067137/realpython728x90FS_1_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style=""> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><section class="section2" id="functions"><h2>Functions</h2>
<p>Before you can understand decorators, you must first understand how functions work. For our purposes, <strong>a function returns a value based on the given arguments</strong>. Here is a very simple example:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">add_one</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">1</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">add_one</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3</span>
</code></pre></div>
<p>In general, functions in Python may also have side effects rather than just turning an input into an output. <a href="https://realpython.com/python-print/">The <code>print()</code> function</a> is a basic example of this: it returns <code>None</code> while having the side effect of outputting something to the console. However, to understand decorators, it is enough to think about functions as something that turns given arguments into a value.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> In <a href="https://en.wikipedia.org/wiki/Functional_programming">functional programming</a>, you work (almost) only with pure functions without side effects. While not a purely functional language, Python supports many of the functional programming concepts, including functions as first-class objects.</p>
</div>
<section class="section3" id="first-class-objects"><h3>First-Class Objects</h3>
<p>In Python, functions are <a href="https://dbader.org/blog/python-first-class-functions">first-class objects</a>. This means that <strong>functions can be passed around and used as arguments</strong>, just like <a href="https://realpython.com/python-data-types/">any other object (string, int, float, list, and so on)</a>. Consider the following three functions:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">say_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">"Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span>

<span class="k">def</span> <span class="nf">be_awesome</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">"Yo </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">, together we are the awesomest!"</span>

<span class="k">def</span> <span class="nf">greet_bob</span><span class="p">(</span><span class="n">greeter_func</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">greeter_func</span><span class="p">(</span><span class="s2">"Bob"</span><span class="p">)</span>
</code></pre></div>
<p>Here, <code>say_hello()</code> and <code>be_awesome()</code> are regular functions that expect a name given as a string. The <code>greet_bob()</code> function however, expects a function as its argument. We can, for instance, pass it the <code>say_hello()</code> or the <code>be_awesome()</code> function:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">greet_bob</span><span class="p">(</span><span class="n">say_hello</span><span class="p">)</span>
<span class="go">'Hello Bob'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">greet_bob</span><span class="p">(</span><span class="n">be_awesome</span><span class="p">)</span>
<span class="go">'Yo Bob, together we are the awesomest!'</span>
</code></pre></div>
<p>Note that <code>greet_bob(say_hello)</code> refers to two functions, but in different ways: <code>greet_bob()</code> and <code>say_hello</code>. The <code>say_hello</code> function is named without parentheses. This means that only a reference to the function is passed. The function is not executed. The <code>greet_bob()</code> function, on the other hand, is written with parentheses, so it will be called as usual.</p>
</section><section class="section3" id="inner-functions"><h3>Inner Functions</h3>
<p>It’s possible to <strong>define functions inside other functions</strong>. Such functions are called <a href="https://realpython.com/inner-functions-what-are-they-good-for/">inner functions</a>. Here’s an example of a function with two inner functions:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">parent</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Printing from the parent() function"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">first_child</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Printing from the first_child() function"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">second_child</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Printing from the second_child() function"</span><span class="p">)</span>

    <span class="n">second_child</span><span class="p">()</span>
    <span class="n">first_child</span><span class="p">()</span>
</code></pre></div>
<p>What happens when you call the <code>parent()</code> function? Think about this for a minute. The output will be as follows:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">parent</span><span class="p">()</span>
<span class="go">Printing from the parent() function</span>
<span class="go">Printing from the second_child() function</span>
<span class="go">Printing from the first_child() function</span>
</code></pre></div>
<p>Note that the order in which the inner functions are defined does not matter. Like with any other functions, the printing only happens when the inner functions are executed.</p>
<p>Furthermore, the inner functions are not defined until the parent function is called. They are locally scoped to <code>parent()</code>: they only exist inside the <code>parent()</code> function as local variables. Try calling <code>first_child()</code>. You should get an error:</p>
<div class="highlight python"><pre><span></span><code><span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name 'first_child' is not defined</span>
</code></pre></div>
<p>Whenever you call <code>parent()</code>, the inner functions <code>first_child()</code> and <code>second_child()</code> are also called. But because of their local scope, they aren’t available outside of the <code>parent()</code> function.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-4998" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_2_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="returning-functions-from-functions"><h3>Returning Functions From Functions</h3>
<p>Python also allows you to use functions as return values. The following example returns one of the inner functions from the outer <code>parent()</code> function:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">first_child</span><span class="p">():</span>
        <span class="k">return</span> <span class="s2">"Hi, I am Emma"</span>

    <span class="k">def</span> <span class="nf">second_child</span><span class="p">():</span>
        <span class="k">return</span> <span class="s2">"Call me Liam"</span>

    <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">first_child</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">second_child</span>
</code></pre></div>
<p>Note that you are returning <code>first_child</code> without the parentheses. Recall that this means that you are <strong>returning a reference to the function <code>first_child</code></strong>. In contrast <code>first_child()</code> with parentheses refers to the result of evaluating the function. This can be seen in the following example:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">first</span> <span class="o">=</span> <span class="n">parent</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">second</span> <span class="o">=</span> <span class="n">parent</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">first</span>
<span class="go">&lt;function parent.&lt;locals&gt;.first_child at 0x7f599f1e2e18&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">second</span>
<span class="go">&lt;function parent.&lt;locals&gt;.second_child at 0x7f599dad5268&gt;</span>
</code></pre></div>
<p>The somewhat cryptic output simply means that the <code>first</code> variable refers to the local <code>first_child()</code> function inside of <code>parent()</code>, while <code>second</code> points to <code>second_child()</code>.</p>
<p>You can now use <code>first</code> and <code>second</code> as if they are regular functions, even though the functions they point to can’t be accessed directly:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">first</span><span class="p">()</span>
<span class="go">'Hi, I am Emma'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">second</span><span class="p">()</span>
<span class="go">'Call me Liam'</span>
</code></pre></div>
<p>Finally, note that in the earlier example you executed the inner functions within the parent function, for instance <code>first_child()</code>. However, in this last example, you did not add parentheses to the inner functions—<code>first_child</code>—upon returning. That way, you got a reference to each function that you could call in the future. Make sense?</p>
</section></section><section class="section2" id="simple-decorators"><h2>Simple Decorators</h2>
<p>Now that you’ve seen that functions are just like any other object in Python, you’re ready to move on and see the magical beast that is the Python decorator. Let’s start with an example:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">my_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Something is happening before the function is called."</span><span class="p">)</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Something is happening after the function is called."</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="k">def</span> <span class="nf">say_whee</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Whee!"</span><span class="p">)</span>

<span class="n">say_whee</span> <span class="o">=</span> <span class="n">my_decorator</span><span class="p">(</span><span class="n">say_whee</span><span class="p">)</span>
</code></pre></div>
<p>Can you guess what happens when you call <code>say_whee()</code>? Try it:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">Something is happening before the function is called.</span>
<span class="go">Whee!</span>
<span class="go">Something is happening after the function is called.</span>
</code></pre></div>
<p>To understand what’s going on here, look back at the previous examples. We are literally just applying everything you have learned so far.</p>
<p>The so-called decoration happens at the following line:</p>
<div class="highlight python"><pre><span></span><code><span class="n">say_whee</span> <span class="o">=</span> <span class="n">my_decorator</span><span class="p">(</span><span class="n">say_whee</span><span class="p">)</span>
</code></pre></div>
<p>In effect, the name <code>say_whee</code> now points to the <code>wrapper()</code> inner function. Remember that you return <code>wrapper</code> as a function when you call <code>my_decorator(say_whee)</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span>
<span class="go">&lt;function my_decorator.&lt;locals&gt;.wrapper at 0x7f3c5dfd42f0&gt;</span>
</code></pre></div>
<p>However, <code>wrapper()</code> has a reference to the original <code>say_whee()</code> as <code>func</code>, and calls that function between the two calls to <a href="https://realpython.com/courses/python-print/"><code>print()</code></a>.</p>
<p>Put simply: <strong>decorators wrap a function, modifying its behavior.</strong></p>
<p>Before moving on, let’s have a look at a second example. Because <code>wrapper()</code> is a regular Python function, the way a decorator modifies a function can change dynamically. So as not to disturb your neighbors, the following example will only run the decorated code during the day:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="k">def</span> <span class="nf">not_during_the_night</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="k">if</span> <span class="mi">7</span> <span class="o">&lt;=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">22</span><span class="p">:</span>
            <span class="n">func</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>  <span class="c1"># Hush, the neighbors are asleep</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="k">def</span> <span class="nf">say_whee</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Whee!"</span><span class="p">)</span>

<span class="n">say_whee</span> <span class="o">=</span> <span class="n">not_during_the_night</span><span class="p">(</span><span class="n">say_whee</span><span class="p">)</span>
</code></pre></div>
<p>If you try to call <code>say_whee()</code> after bedtime, nothing will happen:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
</code></pre></div>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5000" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_3_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><section class="section3" id="syntactic-sugar"><h3>Syntactic Sugar!</h3>
<p>The way you decorated <code>say_whee()</code> above is a little clunky. First of all, you end up typing the name <code>say_whee</code> three times. In addition, the decoration gets a bit hidden away below the definition of the function.</p>
<p>Instead, Python allows you to <strong>use decorators in a simpler way with the <code>@</code> symbol</strong>, sometimes called the <a href="https://www.python.org/dev/peps/pep-0318/#background">“pie” syntax</a>. The following example does the exact same thing as the first decorator example:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">my_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Something is happening before the function is called."</span><span class="p">)</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Something is happening after the function is called."</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper</span>

<span class="nd">@my_decorator</span>
<span class="k">def</span> <span class="nf">say_whee</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Whee!"</span><span class="p">)</span>
</code></pre></div>
<p>So, <code>@my_decorator</code> is just an easier way of saying <code>say_whee = my_decorator(say_whee)</code>. It’s how you apply a decorator to a function.</p>
</section><section class="section3" id="reusing-decorators"><h3>Reusing Decorators</h3>
<p>Recall that a decorator is just a regular Python function. All the usual tools for easy reusability are available. Let’s move the decorator to its own <a href="https://realpython.com/python-modules-packages/">module</a> that can be used in many other functions.</p>
<p>Create a file called <code>decorators.py</code> with the following content:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">do_twice</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper_do_twice</span><span class="p">():</span>
        <span class="n">func</span><span class="p">()</span>
        <span class="n">func</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">wrapper_do_twice</span>
</code></pre></div>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> You can name your inner function whatever you want, and a generic name like <code>wrapper()</code> is usually okay. You’ll see a lot of decorators in this article. To keep them apart, we’ll name the inner function with the same name as the decorator but with a <code>wrapper_</code> prefix.</p>
</div>
<p>You can now use this new decorator in other files by doing a regular import:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">do_twice</span>

<span class="nd">@do_twice</span>
<span class="k">def</span> <span class="nf">say_whee</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Whee!"</span><span class="p">)</span>
</code></pre></div>
<p>When you run this example, you should see that the original <code>say_whee()</code> is executed twice:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">Whee!</span>
<span class="go">Whee!</span>
</code></pre></div>
<div class="alert alert-warning" role="alert"><p><strong>Free Bonus:</strong> <a href="https://realpython.com/primer-on-python-decorators/" class="alert-link" data-toggle="modal" data-target="#modal-power-of-decorators-fixed" data-focus="false">Click here to get access to a free "The Power of Python Decorators" guide</a> that shows you 3 advanced decorator patterns and techniques you can use to write to cleaner and more Pythonic programs.</p></div>
</section><section class="section3" id="decorating-functions-with-arguments"><h3>Decorating Functions With Arguments</h3>
<p>Say that you have a function that accepts some arguments. Can you still decorate it? Let’s try:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">do_twice</span>

<span class="nd">@do_twice</span>
<span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<p>Unfortunately, running this code raises an error:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">greet</span><span class="p">(</span><span class="s2">"World"</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">wrapper_do_twice() takes 0 positional arguments but 1 was given</span>
</code></pre></div>
<p>The problem is that the inner function <code>wrapper_do_twice()</code> does not take any arguments, but <code>name="World"</code> was passed to it. You could fix this by letting <code>wrapper_do_twice()</code> accept one argument, but then it would not work for the <code>say_whee()</code> function you created earlier.</p>
<p>The solution is to use <a href="https://stackoverflow.com/questions/36901/what-does-double-star-asterisk-and-star-asterisk-do-for-parameters"><code>*args</code> and <code>**kwargs</code></a> in the inner wrapper function. Then it will accept an arbitrary number of positional and keyword arguments. Rewrite <code>decorators.py</code> as follows:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">do_twice</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="hll">    <span class="k">def</span> <span class="nf">wrapper_do_twice</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span class="hll">        <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span class="hll">        <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span>    <span class="k">return</span> <span class="n">wrapper_do_twice</span>
</code></pre></div>
<p>The <code>wrapper_do_twice()</code> inner function now accepts any number of arguments and passes them on to the function it decorates. Now both your <code>say_whee()</code> and <code>greet()</code> examples works:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">Whee!</span>
<span class="go">Whee!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">greet</span><span class="p">(</span><span class="s2">"World"</span><span class="p">)</span>
<span class="go">Hello World</span>
<span class="go">Hello World</span>
</code></pre></div>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5002" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_4_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="returning-values-from-decorated-functions"><h3>Returning Values From Decorated Functions</h3>
<p>What happens to the return value of decorated functions? Well, that’s up to the decorator to decide. Let’s say you decorate a simple function as follows:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">do_twice</span>

<span class="nd">@do_twice</span>
<span class="k">def</span> <span class="nf">return_greeting</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Creating greeting"</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">"Hi </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span>
</code></pre></div>
<p>Try to use it:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">hi_adam</span> <span class="o">=</span> <span class="n">return_greeting</span><span class="p">(</span><span class="s2">"Adam"</span><span class="p">)</span>
<span class="go">Creating greeting</span>
<span class="go">Creating greeting</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">hi_adam</span><span class="p">)</span>
<span class="go">None</span>
</code></pre></div>
<p>Oops, your decorator ate the return value from the function.</p>
<p>Because the <code>do_twice_wrapper()</code> doesn’t explicitly return a value, the call <code>return_greeting("Adam")</code> ended up returning <code>None</code>.</p>
<p>To fix this, you need to <strong>make sure the wrapper function returns the return value of the decorated function</strong>. Change your <code>decorators.py</code> file:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">do_twice</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper_do_twice</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="hll">        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span>    <span class="k">return</span> <span class="n">wrapper_do_twice</span>
</code></pre></div>
<p>The return value from the last execution of the function is returned:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">return_greeting</span><span class="p">(</span><span class="s2">"Adam"</span><span class="p">)</span>
<span class="go">Creating greeting</span>
<span class="go">Creating greeting</span>
<span class="go">'Hi Adam'</span>
</code></pre></div>
</section><section class="section3" id="who-are-you-really"><h3>Who Are You, Really?</h3>
<p>A great convenience when working with Python, especially in the interactive shell, is its powerful introspection ability. <a href="https://en.wikipedia.org/wiki/Type_introspection">Introspection</a> is the ability of an object to know about its own attributes at runtime. For instance, a function knows its own name and documentation:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span>
<span class="go">&lt;built-in function print&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="o">.</span><span class="vm">__name__</span>
<span class="go">'print'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<span class="go">Help on built-in function print in module builtins:</span>

<span class="go">print(...)</span>
<span class="go">    &lt;full help message&gt;</span>
</code></pre></div>
<p>The introspection works for functions you define yourself as well:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span>
<span class="go">&lt;function do_twice.&lt;locals&gt;.wrapper_do_twice at 0x7f43700e52f0&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="o">.</span><span class="vm">__name__</span>
<span class="go">'wrapper_do_twice'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">say_whee</span><span class="p">)</span>
<span class="go">Help on function wrapper_do_twice in module decorators:</span>

<span class="go">wrapper_do_twice()</span>
</code></pre></div>
<p>However, after being decorated, <code>say_whee()</code> has gotten very confused about its identity. It now reports being the <code>wrapper_do_twice()</code> inner function inside the <code>do_twice()</code> decorator. Although technically true, this is not very useful information.</p>
<p>To fix this, decorators should use the <a href="https://docs.python.org/library/functools.html#functools.wraps"><code>@functools.wraps</code></a> decorator, which will preserve information about the original function. Update <code>decorators.py</code> again:</p>
<div class="highlight python"><pre><span></span><code><span class="hll"><span class="kn">import</span> <span class="nn">functools</span>
</span>
<span class="k">def</span> <span class="nf">do_twice</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="hll">    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
</span>    <span class="k">def</span> <span class="nf">wrapper_do_twice</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper_do_twice</span>
</code></pre></div>
<p>You do not need to change anything about the decorated <code>say_whee()</code> function:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span>
<span class="go">&lt;function say_whee at 0x7ff79a60f2f0&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="o">.</span><span class="vm">__name__</span>
<span class="go">'say_whee'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">say_whee</span><span class="p">)</span>
<span class="go">Help on function say_whee in module whee:</span>

<span class="go">say_whee()</span>
</code></pre></div>
<p>Much better! Now <code>say_whee()</code> is still itself after decoration.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Technical Detail:</strong> The <code>@functools.wraps</code> decorator <a href="https://github.com/python/cpython/blob/5d4cb54800966947db2e86f65fb109c5067076be/Lib/functools.py#L34">uses</a> the function <code>functools.update_wrapper()</code> to update special attributes like <code>__name__</code> and <code>__doc__</code> that are used in the introspection.</p>
</div>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5004" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_5_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section></section><section class="section2" id="a-few-real-world-examples"><h2>A Few Real World Examples</h2>
<p>Let’s look at a few more useful examples of decorators. You’ll notice that they’ll mainly follow the same pattern that you’ve learned so far:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_decorator</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Do something before</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># Do something after</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">wrapper_decorator</span>
</code></pre></div>
<p>This formula is a good boilerplate template for building more complex decorators.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> In later examples, we will assume that these decorators are saved in your <code>decorators.py</code> file as well. Recall that you can download <a href="https://github.com/realpython/materials/tree/master/primer-on-python-decorators">all the examples in this tutorial</a>.</p>
</div>
<section class="section3" id="timing-functions"><h3>Timing Functions</h3>
<p>Let’s start by creating a <code>@timer</code> decorator. It will measure the time a function takes to execute and print the duration to the console. Here’s the code:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">"""Print the runtime of the decorated function"""</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_timer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>    <span class="c1"># 1</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>      <span class="c1"># 2</span>
        <span class="n">run_time</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>    <span class="c1"># 3</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Finished </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2"> in </span><span class="si">{</span><span class="n">run_time</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> secs"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">wrapper_timer</span>

<span class="nd">@timer</span>
<span class="k">def</span> <span class="nf">waste_some_time</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="nb">sum</span><span class="p">([</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)])</span>
</code></pre></div>
<p>This decorator works by storing the time just before the function starts running (at the line marked <code># 1</code>) and just after the function finishes (at <code># 2</code>). The time the function takes is then the difference between the two (at <code># 3</code>). We use the <a href="https://docs.python.org/library/time.html#time.perf_counter"><code>time.perf_counter()</code></a> function, which does a good job of measuring time intervals. Here are some examples of timings:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">waste_some_time</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Finished 'waste_some_time' in 0.0010 secs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">waste_some_time</span><span class="p">(</span><span class="mi">999</span><span class="p">)</span>
<span class="go">Finished 'waste_some_time' in 0.3260 secs</span>
</code></pre></div>
<p>Run it yourself. Work through the code line by line. Make sure you understand how it works. Don’t worry if you don’t get it, though. Decorators are advanced beings. Try to sleep on it or make a drawing of the program flow.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> The <code>@timer</code> decorator is great if you just want to get an idea about the runtime of your functions. If you want to do more precise measurements of code, you should instead consider the <a href="https://docs.python.org/library/timeit.html"><code>timeit</code> module</a> in the standard library. It temporarily disables garbage collection and runs multiple trials to strip out noise from quick function calls.</p>
</div>
</section><section class="section3" id="debugging-code"><h3>Debugging Code</h3>
<p>The following <code>@debug</code> decorator will print the arguments a function is called with as well as its return value every time the function is called:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">"""Print the function signature and return value"""</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_debug</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">args_repr</span> <span class="o">=</span> <span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>                      <span class="c1"># 1</span>
        <span class="n">kwargs_repr</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">!r}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>  <span class="c1"># 2</span>
        <span class="n">signature</span> <span class="o">=</span> <span class="s2">", "</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args_repr</span> <span class="o">+</span> <span class="n">kwargs_repr</span><span class="p">)</span>           <span class="c1"># 3</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Calling </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">signature</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2"> returned </span><span class="si">{</span><span class="n">value</span><span class="si">!r}</span><span class="s2">"</span><span class="p">)</span>           <span class="c1"># 4</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">wrapper_debug</span>
</code></pre></div>
<p>The signature is created by joining the <a href="https://dbader.org/blog/python-repr-vs-str">string representations</a> of all the arguments. The numbers in the following list correspond to the numbered comments in the code:</p>
<ol>
<li>Create a list of the positional arguments. Use <code>repr()</code> to get a nice string representing each argument.</li>
<li>Create a list of the keyword arguments. The <a href="https://realpython.com/python-f-strings/">f-string</a> formats each argument as <code>key=value</code> where the <code>!r</code> specifier means that <code>repr()</code> is used to represent the value.</li>
<li>The lists of positional and keyword arguments is joined together to one signature string with each argument separated by a comma.</li>
<li>The return value is printed after the function is executed.</li>
</ol>
<p>Let’s see how the decorator works in practice by applying it to a simple function with one position and one keyword argument:</p>
<div class="highlight python"><pre><span></span><code><span class="nd">@debug</span>
<span class="k">def</span> <span class="nf">make_greeting</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">age</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"Howdy </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!"</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">"Whoa </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">! </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="s2"> already, you are growing up!"</span>
</code></pre></div>
<p>Note how the <code>@debug</code> decorator prints the signature and return value of the <code>make_greeting()</code> function:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">make_greeting</span><span class="p">(</span><span class="s2">"Benjamin"</span><span class="p">)</span>
<span class="go">Calling make_greeting('Benjamin')</span>
<span class="go">'make_greeting' returned 'Howdy Benjamin!'</span>
<span class="go">'Howdy Benjamin!'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">make_greeting</span><span class="p">(</span><span class="s2">"Richard"</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">112</span><span class="p">)</span>
<span class="go">Calling make_greeting('Richard', age=112)</span>
<span class="go">'make_greeting' returned 'Whoa Richard! 112 already, you are growing up!'</span>
<span class="go">'Whoa Richard! 112 already, you are growing up!'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">make_greeting</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Dorrisile"</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">116</span><span class="p">)</span>
<span class="go">Calling make_greeting(name='Dorrisile', age=116)</span>
<span class="go">'make_greeting' returned 'Whoa Dorrisile! 116 already, you are growing up!'</span>
<span class="go">'Whoa Dorrisile! 116 already, you are growing up!'</span>
</code></pre></div>
<p>This example might not seem immediately useful since the <code>@debug</code> decorator just repeats what you just wrote. It’s more powerful when applied to small convenience functions that you don’t call directly yourself.</p>
<p>The following example calculates an approximation to the <a href="https://en.wikipedia.org/wiki/E_(mathematical_constant)">mathematical constant <em>e</em></a>:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">debug</span>

<span class="c1"># Apply a decorator to a standard library function</span>
<span class="n">math</span><span class="o">.</span><span class="n">factorial</span> <span class="o">=</span> <span class="n">debug</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">factorial</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">approximate_e</span><span class="p">(</span><span class="n">terms</span><span class="o">=</span><span class="mi">18</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">terms</span><span class="p">))</span>
</code></pre></div>
<p>This example also shows how you can apply a decorator to a function that has already been defined. The approximation of <em>e</em> is based on the following <a href="https://en.wikipedia.org/wiki/E_(mathematical_constant)">series expansion</a>:</p>
<p><a href="./Primer on Python Decorators – Real Python_files/e_series_long.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-66" src="./Primer on Python Decorators – Real Python_files/e_series_long.webp" width="1935" height="228" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/e_series_long.7ce8d6492b4f.png&amp;w=483&amp;sig=78370c9bf4724332d985cae21d5c7ed5de9f5397 483w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/e_series_long.7ce8d6492b4f.png&amp;w=967&amp;sig=13a780a5e9682c6ac8ee58960d9d82bb0d01284e 967w, https://files.realpython.com/media/e_series_long.7ce8d6492b4f.png 1935w" sizes="75vw" alt="Series for calculating mathematical constant e"></a></p>
<p>When calling the <code>approximate_e()</code> function, you can see the <code>@debug</code> decorator at work:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">approximate_e</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Calling factorial(0)</span>
<span class="go">'factorial' returned 1</span>
<span class="go">Calling factorial(1)</span>
<span class="go">'factorial' returned 1</span>
<span class="go">Calling factorial(2)</span>
<span class="go">'factorial' returned 2</span>
<span class="go">Calling factorial(3)</span>
<span class="go">'factorial' returned 6</span>
<span class="go">Calling factorial(4)</span>
<span class="go">'factorial' returned 24</span>
<span class="go">2.708333333333333</span>
</code></pre></div>
<p>In this example, you get a decent approximation to the true value <em>e</em> = 2.718281828, adding only 5 terms.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5257" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_6_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="slowing-down-code"><h3>Slowing Down Code</h3>
<p>This next example might not seem very useful. Why would you want to slow down your Python code? Probably the most common use case is that you want to rate-limit a function that continuously checks whether a resource—like a web page—has changed. The <code>@slow_down</code> decorator will sleep one second before it calls the decorated function:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">slow_down</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">"""Sleep 1 second before calling the function"""</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_slow_down</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper_slow_down</span>

<span class="nd">@slow_down</span>
<span class="k">def</span> <span class="nf">countdown</span><span class="p">(</span><span class="n">from_number</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">from_number</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Liftoff!"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">from_number</span><span class="p">)</span>
        <span class="n">countdown</span><span class="p">(</span><span class="n">from_number</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>To see the effect of the <code>@slow_down</code> decorator, you really need to run the example yourself:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">countdown</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">3</span>
<span class="go">2</span>
<span class="go">1</span>
<span class="go">Liftoff!</span>
</code></pre></div>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> The <code>countdown()</code> function is a recursive function. In other words, it’s a function calling itself. To learn more about recursive functions in Python, see our guide on <a href="https://realpython.com/python-thinking-recursively/">Thinking Recursively in Python</a>.</p>
</div>
<p>The <code>@slow_down</code> decorator always sleeps for one second. <a href="https://realpython.com/primer-on-python-decorators/#slowing-down-code-revisited">Later</a>, you’ll see how to control the rate by passing an argument to the decorator.</p>
</section><section class="section3" id="registering-plugins"><h3>Registering Plugins</h3>
<p>Decorators don’t have to wrap the function they’re decorating. They can also simply register that a function exists and return it unwrapped. This can be used, for instance, to create a light-weight plug-in architecture:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">random</span>
<span class="n">PLUGINS</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">"""Register a function as a plug-in"""</span>
    <span class="n">PLUGINS</span><span class="p">[</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span> <span class="o">=</span> <span class="n">func</span>
    <span class="k">return</span> <span class="n">func</span>

<span class="nd">@register</span>
<span class="k">def</span> <span class="nf">say_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">"Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span>

<span class="nd">@register</span>
<span class="k">def</span> <span class="nf">be_awesome</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">"Yo </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">, together we are the awesomest!"</span>

<span class="k">def</span> <span class="nf">randomly_greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">greeter</span><span class="p">,</span> <span class="n">greeter_func</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">PLUGINS</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Using </span><span class="si">{</span><span class="n">greeter</span><span class="si">!r}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">greeter_func</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
<p>The <code>@register</code> decorator simply stores a reference to the decorated function in the global <code>PLUGINS</code> dict. Note that you do not have to write an inner function or use <code>@functools.wraps</code> in this example because you are returning the original function unmodified.</p>
<p>The <code>randomly_greet()</code> function randomly chooses one of the registered functions to use. Note that the <code>PLUGINS</code> dictionary already contains references to each function object that is registered as a plugin:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">PLUGINS</span>
<span class="go">{'say_hello': &lt;function say_hello at 0x7f768eae6730&gt;,</span>
<span class="go"> 'be_awesome': &lt;function be_awesome at 0x7f768eae67b8&gt;}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">randomly_greet</span><span class="p">(</span><span class="s2">"Alice"</span><span class="p">)</span>
<span class="go">Using 'say_hello'</span>
<span class="go">'Hello Alice'</span>
</code></pre></div>
<p>The main benefit of this simple plugin architecture is that you do not need to maintain a list of which plugins exist. That list is created when the plugins register themselves. This makes it trivial to add a new plugin: just define the function and decorate it with <code>@register</code>.</p>
<p>If you are familiar with <code>globals()</code> in Python, you might see some similarities to how the plugin architecture works. <code>globals()</code> gives access to all global variables in the current scope, including your plugins:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">globals</span><span class="p">()</span>
<span class="go">{..., # Lots of variables not shown here.</span>
<span class="go"> 'say_hello': &lt;function say_hello at 0x7f768eae6730&gt;,</span>
<span class="go"> 'be_awesome': &lt;function be_awesome at 0x7f768eae67b8&gt;,</span>
<span class="go"> 'randomly_greet': &lt;function randomly_greet at 0x7f768eae6840&gt;}</span>
</code></pre></div>
<p>Using the <code>@register</code> decorator, you can create your own curated list of interesting variables, effectively hand-picking some functions from <code>globals()</code>.</p>
</section><section class="section3" id="is-the-user-logged-in"><h3>Is the User Logged In?</h3>
<p>The final example before moving on to some fancier decorators is commonly used when working with a web framework. In this example, we are using <a href="https://realpython.com/tutorials/flask/">Flask</a> to set up a <code>/secret</code> web page that should only be visible to users that are logged in or otherwise authenticated:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">url_for</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">login_required</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">"""Make sure user is logged in before proceeding"""</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_login_required</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">user</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">url_for</span><span class="p">(</span><span class="s2">"login"</span><span class="p">,</span> <span class="nb">next</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">url</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wrapper_login_required</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">"/secret"</span><span class="p">)</span>
<span class="nd">@login_required</span>
<span class="k">def</span> <span class="nf">secret</span><span class="p">():</span>
    <span class="o">...</span>
</code></pre></div>
<p>While this gives an idea about how to add authentication to your web framework, you should usually not write these types of decorators yourself. For Flask, you can use <a href="https://flask-login.readthedocs.io/en/latest/#flask_login.login_required">the Flask-Login extension</a> instead, which adds more security and functionality.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5259" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_7_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section></section><section class="section2" id="fancy-decorators"><h2>Fancy Decorators</h2>
<p>So far, you’ve seen how to create simple decorators. You already have a pretty good understanding of what decorators are and how they work. Feel free to take a break from this article to practice everything you’ve learned.</p>
<p>In the second part of this tutorial, we’ll explore more advanced features, including how to use the following:</p>
<ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#decorating-classes">Decorators on classes</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#nesting-decorators">Several decorators on one function</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#decorators-with-arguments">Decorators with arguments</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#both-please-but-never-mind-the-bread">Decorators that can optionally take arguments</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#stateful-decorators">Stateful decorators</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#classes-as-decorators">Classes as decorators</a></li>
</ul>
<section class="section3" id="decorating-classes"><h3>Decorating Classes</h3>
<p>There are two different ways you can use decorators on classes. The first one is very close to what you have already done with functions: you can <strong>decorate the methods of a class</strong>. This was <a href="https://www.python.org/dev/peps/pep-0318/#motivation">one of the motivations</a> for introducing decorators back in the day.</p>
<p>Some commonly used decorators that are even built-ins in Python are <a href="https://realpython.com/instance-class-and-static-methods-demystified/"><code>@classmethod</code>, <code>@staticmethod</code></a>, and <a href="https://docs.python.org/library/functions.html#property"><code>@property</code></a>. The <code>@classmethod</code> and <code>@staticmethod</code> decorators are used to define methods inside a class namespace that are not connected to a particular instance of that class. The <code>@property</code> decorator is used to customize <a href="https://docs.python.org/howto/descriptor.html#properties">getters and setters</a> for class attributes. Expand the box below for an example using these decorators.</p>
<div class="card mb-3" id="collapse_card0584b0">
<div class="card-header border-0"><p class="m-0"><button class="btn w-100" data-toggle="collapse" data-target="#collapse0584b0" aria-expanded="false" aria-controls="collapse0584b0"><span class="float-left">Example using built-in class decorators</span><span class="float-right text-muted">Show/Hide</span></button></p></div>
<div id="collapse0584b0" class="collapse" data-parent="#collapse_card0584b0"><div class="card-body" markdown="1">
<p>The following definition of a <code>Circle</code> class uses the <code>@classmethod</code>, <code>@staticmethod</code>, and <code>@property</code> decorators:</p>
<div class="highlight python"><pre><span></span><code><span class="k">class</span> <span class="nc">Circle</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span> <span class="o">=</span> <span class="n">radius</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Get value of radius"""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span>

    <span class="nd">@radius</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">radius</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">"""Set radius, raise error if negative"""</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_radius</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Radius must be positive"</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Calculate area inside circle"""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pi</span><span class="p">()</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">**</span><span class="mi">2</span>

    <span class="k">def</span> <span class="nf">cylinder_volume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
        <span class="sd">"""Calculate volume of cylinder with circle as base"""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">area</span> <span class="o">*</span> <span class="n">height</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">unit_circle</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="sd">"""Factory method creating a circle with radius 1"""</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">pi</span><span class="p">():</span>
        <span class="sd">"""Value of π, could use math.pi instead though"""</span>
        <span class="k">return</span> <span class="mf">3.1415926535</span>
</code></pre></div>
<p>In this class:</p>
<ul>
<li><code>.cylinder_volume()</code> is a regular method.</li>
<li><code>.radius</code> is a mutable property: it can be set to a different value. However, by defining a setter method, we can do some error testing to make sure it’s not set to a nonsensical negative number. Properties are accessed as attributes without parentheses.</li>
<li><code>.area</code> is an immutable property: properties without <code>.setter()</code> methods can’t be changed. Even though it is defined as a method, it can be retrieved as an attribute without parentheses.</li>
<li><code>.unit_circle()</code> is a class method. It’s not bound to one particular instance of <code>Circle</code>. Class methods are often used as factory methods that can create specific instances of the class.</li>
<li><code>.pi()</code> is a static method. It’s not really dependent on the <code>Circle</code> class, except that it is part of its namespace. Static methods can be called on either an instance or the class.</li>
</ul>
<p>The <code>Circle</code> class can for example be used as follows:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">radius</span>
<span class="go">5</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">area</span>
<span class="go">78.5398163375</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">area</span>
<span class="go">12.566370614</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">area</span> <span class="o">=</span> <span class="mi">100</span>
<span class="go">AttributeError: can't set attribute</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">cylinder_volume</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">50.265482456</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="go">ValueError: Radius must be positive</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Circle</span><span class="o">.</span><span class="n">unit_circle</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">radius</span>
<span class="go">1</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">pi</span><span class="p">()</span>
<span class="go">3.1415926535</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">Circle</span><span class="o">.</span><span class="n">pi</span><span class="p">()</span>
<span class="go">3.1415926535</span>
</code></pre></div>
</div></div>
</div>
<p>Let’s define a class where we decorate some of its methods using the <a href="https://realpython.com/primer-on-python-decorators/#debugging-code"><code>@debug</code></a> and <a href="https://realpython.com/primer-on-python-decorators/#timing-functions"><code>@timer</code></a> decorators from <a href="https://realpython.com/primer-on-python-decorators/#a-few-real-world-examples">earlier</a>:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">debug</span><span class="p">,</span> <span class="n">timer</span>

<span class="k">class</span> <span class="nc">TimeWaster</span><span class="p">:</span>
    <span class="nd">@debug</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_num</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_num</span> <span class="o">=</span> <span class="n">max_num</span>

    <span class="nd">@timer</span>
    <span class="k">def</span> <span class="nf">waste_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_times</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
            <span class="nb">sum</span><span class="p">([</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_num</span><span class="p">)])</span>
</code></pre></div>
<p>Using this class, you can see the effect of the decorators:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tw</span> <span class="o">=</span> <span class="n">TimeWaster</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="go">Calling __init__(&lt;time_waster.TimeWaster object at 0x7efccce03908&gt;, 1000)</span>
<span class="go">'__init__' returned None</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tw</span><span class="o">.</span><span class="n">waste_time</span><span class="p">(</span><span class="mi">999</span><span class="p">)</span>
<span class="go">Finished 'waste_time' in 0.3376 secs</span>
</code></pre></div>
<p>The other way to use decorators on classes is to <strong>decorate the whole class</strong>. This is, for example, done in the new <a href="https://realpython.com/python-data-classes/"><code>dataclasses</code> module</a> in <a href="https://realpython.com/python37-new-features/">Python 3.7</a>:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">PlayingCard</span><span class="p">:</span>
    <span class="n">rank</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">suit</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<p>The meaning of the syntax is similar to the function decorators. In the example above, you could have done the decoration by writing <code>PlayingCard = dataclass(PlayingCard)</code>.</p>
<p>A <a href="https://www.python.org/dev/peps/pep-3129/#rationale">common use of class decorators</a> is to be a simpler alternative to some use-cases of <a href="https://realpython.com/python-metaclasses/">metaclasses</a>. In both cases, you are changing the definition of a class dynamically.</p>
<p>Writing a class decorator is very similar to writing a function decorator. The only difference is that the decorator will receive a class and not a function as an argument. In fact, all the decorators <a href="https://realpython.com/primer-on-python-decorators/#a-few-real-world-examples">you saw above</a> will work as class decorators. When you are using them on a class instead of a function, their effect might not be what you want. In the following example, the <code>@timer</code> decorator is applied to a class:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">timer</span>

<span class="nd">@timer</span>
<span class="k">class</span> <span class="nc">TimeWaster</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_num</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_num</span> <span class="o">=</span> <span class="n">max_num</span>

    <span class="k">def</span> <span class="nf">waste_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_times</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
            <span class="nb">sum</span><span class="p">([</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_num</span><span class="p">)])</span>
</code></pre></div>
<p>Decorating a class does not decorate its methods. Recall that <code>@timer</code> is just shorthand for <code>TimeWaster = timer(TimeWaster)</code>.</p>
<p>Here, <code>@timer</code> only measures the time it takes to instantiate the class:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tw</span> <span class="o">=</span> <span class="n">TimeWaster</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="go">Finished 'TimeWaster' in 0.0000 secs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tw</span><span class="o">.</span><span class="n">waste_time</span><span class="p">(</span><span class="mi">999</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
</code></pre></div>
<p><a href="https://realpython.com/primer-on-python-decorators/#creating-singletons">Later</a>, you will see an example defining a proper class decorator, namely <code>@singleton</code>, which ensures that there is only one instance of a class.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5261" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_8_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="nesting-decorators"><h3>Nesting Decorators</h3>
<p>You can <strong>apply several decorators</strong> to a function by stacking them on top of each other:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">debug</span><span class="p">,</span> <span class="n">do_twice</span>

<span class="nd">@debug</span>
<span class="nd">@do_twice</span>
<span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<p>Think about this as the decorators being executed in the order they are listed. In other words, <code>@debug</code> calls <code>@do_twice</code>, which calls <code>greet()</code>, or <code>debug(do_twice(greet()))</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">greet</span><span class="p">(</span><span class="s2">"Eva"</span><span class="p">)</span>
<span class="go">Calling greet('Eva')</span>
<span class="go">Hello Eva</span>
<span class="go">Hello Eva</span>
<span class="go">'greet' returned None</span>
</code></pre></div>
<p>Observe the difference if we change the order of <code>@debug</code> and <code>@do_twice</code>:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">debug</span><span class="p">,</span> <span class="n">do_twice</span>

<span class="hll"><span class="nd">@do_twice</span>
</span><span class="hll"><span class="nd">@debug</span>
</span><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<p>In this case, <code>@do_twice</code> will be applied to <code>@debug</code> as well:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">greet</span><span class="p">(</span><span class="s2">"Eva"</span><span class="p">)</span>
<span class="go">Calling greet('Eva')</span>
<span class="go">Hello Eva</span>
<span class="go">'greet' returned None</span>
<span class="go">Calling greet('Eva')</span>
<span class="go">Hello Eva</span>
<span class="go">'greet' returned None</span>
</code></pre></div>
</section><section class="section3" id="decorators-with-arguments"><h3>Decorators With Arguments</h3>
<p>Sometimes, it’s useful to <strong>pass arguments to your decorators</strong>. For instance, <code>@do_twice</code> could be extended to a <code>@repeat(num_times)</code> decorator. The number of times to execute the decorated function could then be given as an argument.</p>
<p>This would allow you to do something like this:</p>
<div class="highlight python"><pre><span></span><code><span class="nd">@repeat</span><span class="p">(</span><span class="n">num_times</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">greet</span><span class="p">(</span><span class="s2">"World"</span><span class="p">)</span>
<span class="go">Hello World</span>
<span class="go">Hello World</span>
<span class="go">Hello World</span>
<span class="go">Hello World</span>
</code></pre></div>
<p>Think about how you could achieve this.</p>
<p>So far, the name written after the <code>@</code> has referred to a function object that can be called with another function. To be consistent, you then need <code>repeat(num_times=4)</code> to return a function object that can act as a decorator. Luckily, you <a href="https://realpython.com/primer-on-python-decorators/#returning-functions-from-functions">already know how to return functions</a>! In general, you want something like the following:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">repeat</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">decorator_repeat</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="o">...</span>  <span class="c1"># Create and return a wrapper function</span>
    <span class="k">return</span> <span class="n">decorator_repeat</span>
</code></pre></div>
<p>Typically, the decorator creates and returns an inner wrapper function, so writing the example out in full will give you an inner function within an inner function. While this might sound like the programming equivalent of the <a href="https://en.wikipedia.org/wiki/Inception">Inception movie</a>, we’ll untangle it all in a moment:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">repeat</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">decorator_repeat</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper_repeat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">return</span> <span class="n">wrapper_repeat</span>
    <span class="k">return</span> <span class="n">decorator_repeat</span>
</code></pre></div>
<p>It looks a little messy, but we have only put the same decorator pattern you have seen many times by now inside one additional <code>def</code> that handles the arguments to the decorator. Let’s start with the innermost function:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">wrapper_repeat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div>
<p>This <code>wrapper_repeat()</code> function takes arbitrary arguments and returns the value of the decorated function, <code>func()</code>. This wrapper function also contains the loop that calls the decorated function <code>num_times</code> times. This is no different from the earlier wrapper functions you have seen, except that it is using the <code>num_times</code> parameter that must be supplied from the outside.</p>
<p>One step out, you’ll find the decorator function:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">decorator_repeat</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_repeat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">return</span> <span class="n">wrapper_repeat</span>
</code></pre></div>
<p>Again, <code>decorator_repeat()</code> looks exactly like the decorator functions you have written earlier, except that it’s named differently. That’s because we reserve the base name—<code>repeat()</code>—for the outermost function, which is the one the user will call.</p>
<p>As you have already seen, the outermost function returns a reference to the decorator function:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">repeat</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">decorator_repeat</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">return</span> <span class="n">decorator_repeat</span>
</code></pre></div>
<p>There are a few subtle things happening in the <code>repeat()</code> function:</p>
<ul>
<li>Defining <code>decorator_repeat()</code> as an inner function means that <code>repeat()</code> will refer to a function object—<code>decorator_repeat</code>. Earlier, we used <code>repeat</code> without parentheses to refer to the function object. The added parentheses are necessary when defining decorators that take arguments.</li>
<li>The <code>num_times</code> argument is seemingly not used in <code>repeat()</code> itself. But by passing <code>num_times</code> a <a href="https://realpython.com/inner-functions-what-are-they-good-for/">closure</a> is created where the value of <code>num_times</code> is stored until it will be used later by <code>wrapper_repeat()</code>.</li>
</ul>
<p>With everything set up, let’s see if the results are as expected:</p>
<div class="highlight python"><pre><span></span><code><span class="nd">@repeat</span><span class="p">(</span><span class="n">num_times</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">greet</span><span class="p">(</span><span class="s2">"World"</span><span class="p">)</span>
<span class="go">Hello World</span>
<span class="go">Hello World</span>
<span class="go">Hello World</span>
<span class="go">Hello World</span>
</code></pre></div>
<p>Just the result we were aiming for.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5263" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_9_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="both-please-but-never-mind-the-bread"><h3>Both Please, But Never Mind the Bread</h3>
<p>With a little bit of care, you can also define <strong>decorators that can be used both with and without arguments</strong>. Most likely, you don’t need this, but it is nice to have the flexibility.</p>
<p>As you saw in the previous section, when a decorator uses arguments, you need to add an extra outer function. The challenge is for your code to figure out if the decorator has been called with or without arguments.</p>
<p>Since the function to decorate is only passed in directly if the decorator is called without arguments, the function must be an optional argument. This means that the decorator arguments must all be specified by keyword. You can enforce this with the special <code>*</code> syntax, which means that <a href="https://www.python.org/dev/peps/pep-3102/">all following parameters are keyword-only</a>:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="n">_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">kw1</span><span class="o">=</span><span class="n">val1</span><span class="p">,</span> <span class="n">kw2</span><span class="o">=</span><span class="n">val2</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>  <span class="c1"># 1</span>
    <span class="k">def</span> <span class="nf">decorator_name</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="o">...</span>  <span class="c1"># Create and return a wrapper function.</span>

    <span class="k">if</span> <span class="n">_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">decorator_name</span>                      <span class="c1"># 2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">decorator_name</span><span class="p">(</span><span class="n">_func</span><span class="p">)</span>               <span class="c1"># 3</span>
</code></pre></div>
<p>Here, the <code>_func</code> argument acts as a marker, noting whether the decorator has been called with arguments or not:</p>
<ol>
<li>If <code>name</code> has been called without arguments, the decorated function will be passed in as <code>_func</code>. If it has been called with arguments, then <code>_func</code> will be <code>None</code>, and some of the keyword arguments may have been changed from their default values. The <code>*</code> in the argument list means that the remaining arguments can’t be called as positional arguments.</li>
<li>In this case, the decorator was called with arguments. Return a decorator function that can read and return a function.</li>
<li>In this case, the decorator was called without arguments. Apply the decorator to the function immediately.</li>
</ol>
<p>Using this boilerplate on the <code>@repeat</code> decorator in the previous section, you can write the following:</p>
<div class="highlight python"><pre><span></span><code><span class="hll"><span class="k">def</span> <span class="nf">repeat</span><span class="p">(</span><span class="n">_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">num_times</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
</span>    <span class="k">def</span> <span class="nf">decorator_repeat</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper_repeat</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">return</span> <span class="n">wrapper_repeat</span>

<span class="hll">    <span class="k">if</span> <span class="n">_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">decorator_repeat</span>
</span><span class="hll">    <span class="k">else</span><span class="p">:</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">decorator_repeat</span><span class="p">(</span><span class="n">_func</span><span class="p">)</span>
</span></code></pre></div>
<p>Compare this with the original <code>@repeat</code>. The only changes are the added <code>_func</code> parameter and the <code>if</code>-<code>else</code> at the end.</p>
<p><a href="https://github.com/dabeaz/python-cookbook/blob/master/src/9/defining_a_decorator_that_takes_an_optional_argument/example.py">Recipe 9.6</a> of the excellent <a href="https://realpython.com/asins/1449340377/">Python Cookbook</a> shows an alternative solution using <a href="https://docs.python.org/library/functools.html#functools.partial"><code>functools.partial()</code></a>.</p>
<p>These examples show that <code>@repeat</code> can now be used with or without arguments:</p>
<div class="highlight python"><pre><span></span><code><span class="nd">@repeat</span>
<span class="k">def</span> <span class="nf">say_whee</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Whee!"</span><span class="p">)</span>

<span class="nd">@repeat</span><span class="p">(</span><span class="n">num_times</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<p>Recall that the default value of <code>num_times</code> is 2:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">Whee!</span>
<span class="go">Whee!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">greet</span><span class="p">(</span><span class="s2">"Penny"</span><span class="p">)</span>
<span class="go">Hello Penny</span>
<span class="go">Hello Penny</span>
<span class="go">Hello Penny</span>
</code></pre></div>
</section><section class="section3" id="stateful-decorators"><h3>Stateful Decorators</h3>
<p>Sometimes, it’s useful to have <strong>a decorator that can keep track of state</strong>. As a simple example, we will create a decorator that counts the number of times a function is called.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> In <a href="https://realpython.com/primer-on-python-decorators/#functions">the beginning of this guide</a>, we talked about pure functions returning a value based on given arguments. Stateful decorators are quite the opposite, where the return value will depend on the current state, as well as the given arguments.</p>
</div>
<p>In the <a href="https://realpython.com/primer-on-python-decorators/#classes-as-decorators">next section</a>, you will see how to use classes to keep state. But in simple cases, you can also get away with using <a href="https://www.python.org/dev/peps/pep-0232/">function attributes</a>:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">count_calls</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_count_calls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">wrapper_count_calls</span><span class="o">.</span><span class="n">num_calls</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Call </span><span class="si">{</span><span class="n">wrapper_count_calls</span><span class="o">.</span><span class="n">num_calls</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">wrapper_count_calls</span><span class="o">.</span><span class="n">num_calls</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">wrapper_count_calls</span>

<span class="nd">@count_calls</span>
<span class="k">def</span> <span class="nf">say_whee</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Whee!"</span><span class="p">)</span>
</code></pre></div>
<p>The state—the number of calls to the function—is stored in the function attribute <code>.num_calls</code> on the wrapper function. Here is the effect of using it:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">Call 1 of 'say_whee'</span>
<span class="go">Whee!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">Call 2 of 'say_whee'</span>
<span class="go">Whee!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="o">.</span><span class="n">num_calls</span>
<span class="go">2</span>
</code></pre></div>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5265" data-processed="true"><div id="google_ads_iframe_/124067137/realpython728x90FS_10_0__container__" style="border: 0pt none; width: 728px; height: 90px;"></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="classes-as-decorators"><h3>Classes as Decorators</h3>
<p>The typical way to maintain state is by <a href="https://realpython.com/python3-object-oriented-programming/">using classes</a>. In this section, you’ll see how to rewrite the <code>@count_calls</code> example from the previous section <strong>using a class as a decorator</strong>.</p>
<p>Recall that the decorator syntax <code>@my_decorator</code> is just an easier way of saying <code>func = my_decorator(func)</code>. Therefore, if <code>my_decorator</code> is a class, it needs to take <code>func</code> as an argument in its <code>.__init__()</code> method. Furthermore, the class needs to be <a href="https://docs.python.org/reference/datamodel.html#emulating-callable-objects">callable</a> so that it can stand in for the decorated function.</p>
<p>For a class to be callable, you implement the special <code>.__call__()</code> method:</p>
<div class="highlight python"><pre><span></span><code><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="n">start</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Current count is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<p>The <code>.__call__()</code> method is executed each time you try to call an instance of the class:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">counter</span><span class="p">()</span>
<span class="go">Current count is 1</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">counter</span><span class="p">()</span>
<span class="go">Current count is 2</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">counter</span><span class="o">.</span><span class="n">count</span>
<span class="go">2</span>
</code></pre></div>
<p>Therefore, a typical implementation of a decorator class needs to implement <code>.__init__()</code> and <code>.__call__()</code>:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">class</span> <span class="nc">CountCalls</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="n">functools</span><span class="o">.</span><span class="n">update_wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_calls</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_calls</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Call </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_calls</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nd">@CountCalls</span>
<span class="k">def</span> <span class="nf">say_whee</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Whee!"</span><span class="p">)</span>
</code></pre></div>
<p>The <code>.__init__()</code> method must store a reference to the function and can do any other necessary initialization. The <code>.__call__()</code> method will be called instead of the decorated function. It does essentially the same thing as the <code>wrapper()</code> function in our earlier examples. Note that you need to use the <a href="https://docs.python.org/library/functools.html#functools.update_wrapper"><code>functools.update_wrapper()</code></a> function instead of <code>@functools.wraps</code>.</p>
<p>This <code>@CountCalls</code> decorator works the same as the one in the previous section:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">Call 1 of 'say_whee'</span>
<span class="go">Whee!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="p">()</span>
<span class="go">Call 2 of 'say_whee'</span>
<span class="go">Whee!</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">say_whee</span><span class="o">.</span><span class="n">num_calls</span>
<span class="go">2</span>
</code></pre></div>
</section></section><section class="section2" id="more-real-world-examples"><h2>More Real World Examples</h2>
<p>We’ve come a far way now, having figured out how to create all kinds of decorators. Let’s wrap it up, putting our newfound knowledge into creating a few more examples that might actually be useful in the real world.</p>
<section class="section3" id="slowing-down-code-revisited"><h3>Slowing Down Code, Revisited</h3>
<p>As noted earlier, our <a href="https://realpython.com/primer-on-python-decorators/#slowing-down-code">previous implementation of <code>@slow_down</code></a> always sleeps for one second. Now you know how to add parameters to decorators, so let’s rewrite <code>@slow_down</code> using an optional <code>rate</code> argument that controls how long it sleeps:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">slow_down</span><span class="p">(</span><span class="n">_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">rate</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">"""Sleep given amount of seconds before calling the function"""</span>
    <span class="k">def</span> <span class="nf">decorator_slow_down</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper_slow_down</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper_slow_down</span>

    <span class="k">if</span> <span class="n">_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">decorator_slow_down</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">decorator_slow_down</span><span class="p">(</span><span class="n">_func</span><span class="p">)</span>
</code></pre></div>
<p>We’re using the boilerplate introduced in the <a href="https://realpython.com/primer-on-python-decorators/#both-please-but-never-mind-the-bread">Both Please, But Never Mind the Bread</a> section to make <code>@slow_down</code> callable both with and without arguments. The same recursive <code>countdown()</code> function <a href="https://realpython.com/primer-on-python-decorators/#slowing-down-code">as earlier</a> now sleeps two seconds between each count:</p>
<div class="highlight python"><pre><span></span><code><span class="hll"><span class="nd">@slow_down</span><span class="p">(</span><span class="n">rate</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span class="k">def</span> <span class="nf">countdown</span><span class="p">(</span><span class="n">from_number</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">from_number</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Liftoff!"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">from_number</span><span class="p">)</span>
        <span class="n">countdown</span><span class="p">(</span><span class="n">from_number</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>As before, you must run the example yourself to see the effect of the decorator:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">countdown</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">3</span>
<span class="go">2</span>
<span class="go">1</span>
<span class="go">Liftoff!</span>
</code></pre></div>
</section><section class="section3" id="creating-singletons"><h3>Creating Singletons</h3>
<p>A singleton is a class with only one instance. There are several singletons in Python that you use frequently, including <code>None</code>, <code>True</code>, and <code>False</code>. It is the fact that <code>None</code> is a singleton that allows you to compare for <code>None</code> using the <code>is</code> keyword, like you saw in the <a href="https://realpython.com/primer-on-python-decorators/#both-please-but-never-mind-the-bread">Both Please</a> section:</p>
<div class="highlight python"><pre><span></span><code><span class="k">if</span> <span class="n">_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">decorator_name</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">decorator_name</span><span class="p">(</span><span class="n">_func</span><span class="p">)</span>
</code></pre></div>
<p>Using <code>is</code> returns <code>True</code> only for objects that are the exact same instance. The following <code>@singleton</code> decorator turns a class into a singleton by storing the first instance of the class as an attribute. Later attempts at creating an instance simply return the stored instance:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="k">def</span> <span class="nf">singleton</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="sd">"""Make a class a Singleton class (only one instance)"""</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_singleton</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wrapper_singleton</span><span class="o">.</span><span class="n">instance</span><span class="p">:</span>
            <span class="n">wrapper_singleton</span><span class="o">.</span><span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper_singleton</span><span class="o">.</span><span class="n">instance</span>
    <span class="n">wrapper_singleton</span><span class="o">.</span><span class="n">instance</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">wrapper_singleton</span>

<span class="nd">@singleton</span>
<span class="k">class</span> <span class="nc">TheOne</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div>
<p>As you see, this class decorator follows the same template as our function decorators. The only difference is that we are using <code>cls</code> instead of <code>func</code> as the parameter name to indicate that it is meant to be a class decorator.</p>
<p>Let’s see if it works:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">first_one</span> <span class="o">=</span> <span class="n">TheOne</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">another_one</span> <span class="o">=</span> <span class="n">TheOne</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">first_one</span><span class="p">)</span>
<span class="go">140094218762280</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">another_one</span><span class="p">)</span>
<span class="go">140094218762280</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">first_one</span> <span class="ow">is</span> <span class="n">another_one</span>
<span class="go">True</span>
</code></pre></div>
<p>It seems clear that <code>first_one</code> is indeed the exact same instance as <code>another_one</code>.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Singleton classes are not really used as often in Python as in other languages. The effect of a singleton is usually better implemented as a global variable in a module.</p>
</div>
</section><section class="section3" id="caching-return-values"><h3>Caching Return Values</h3>
<p>Decorators can provide a nice mechanism for <a href="https://en.wikipedia.org/wiki/Cache_%28computing%29">caching</a> and <a href="https://en.wikipedia.org/wiki/Memoization">memoization</a>. As an example, let’s look at a <a href="https://realpython.com/python-thinking-recursively/">recursive</a> definition of the <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci sequence</a>:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">count_calls</span>

<span class="nd">@count_calls</span>
<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">num</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">num</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>While the implementation is simple, its runtime performance is terrible:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">&lt;Lots of output from count_calls&gt;</span>
<span class="go">55</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="o">.</span><span class="n">num_calls</span>
<span class="go">177</span>
</code></pre></div>
<p>To calculate the tenth Fibonacci number, you should really only need to calculate the preceding Fibonacci numbers, but this implementation somehow needs a whopping 177 calculations. It gets worse quickly: 21891 calculations are needed for <code>fibonacci(20)</code> and almost 2.7 million calculations for the 30th number. This is because the code keeps recalculating Fibonacci numbers that are already known.</p>
<p>The usual solution is to implement Fibonacci numbers using a <code>for</code> loop and a lookup table. However, simple caching of the calculations will also do the trick:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">from</span> <span class="nn">decorators</span> <span class="kn">import</span> <span class="n">count_calls</span>

<span class="k">def</span> <span class="nf">cache</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="sd">"""Keep a cache of previous function calls"""</span>
    <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper_cache</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">cache_key</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">cache_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">wrapper_cache</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span>
            <span class="n">wrapper_cache</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper_cache</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span>
    <span class="n">wrapper_cache</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">wrapper_cache</span>

<span class="hll"><span class="nd">@cache</span>
</span><span class="nd">@count_calls</span>
<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">num</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">num</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>The cache works as a lookup table, so now <code>fibonacci()</code> only does the necessary calculations once:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Call 1 of 'fibonacci'</span>
<span class="gp">...</span>
<span class="go">Call 11 of 'fibonacci'</span>
<span class="go">55</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="go">21</span>
</code></pre></div>
<p>Note that in the final call to <code>fibonacci(8)</code>, no new calculations were needed, since the eighth Fibonacci number had already been calculated for <code>fibonacci(10)</code>.</p>
<p>In the standard library, a <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies#Least_recently_used_(LRU)">Least Recently Used (LRU) cache</a> is available as <a href="https://docs.python.org/library/functools.html#functools.lru_cache"><code>@functools.lru_cache</code></a>.</p>
<p>This decorator has more features than the one you saw above. You should use <code>@functools.lru_cache</code> instead of writing your own cache decorator:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="hll"><span class="nd">@functools</span><span class="o">.</span><span class="n">lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</span><span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
<span class="hll">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Calculating fibonacci(</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
</span>    <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">num</span>
    <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">num</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>The <code>maxsize</code> parameter specifies how many recent calls are cached. The default value is 128, but you can specify <code>maxsize=None</code> to cache all function calls. However, be aware that this can cause memory problems if you are caching many large objects.</p>
<p>You can use the <code>.cache_info()</code> method to see how the cache performs, and you can tune it if needed. In our example, we used an artificially small <code>maxsize</code> to see the effect of elements being removed from the cache:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Calculating fibonacci(10)</span>
<span class="go">Calculating fibonacci(9)</span>
<span class="go">Calculating fibonacci(8)</span>
<span class="go">Calculating fibonacci(7)</span>
<span class="go">Calculating fibonacci(6)</span>
<span class="go">Calculating fibonacci(5)</span>
<span class="go">Calculating fibonacci(4)</span>
<span class="go">Calculating fibonacci(3)</span>
<span class="go">Calculating fibonacci(2)</span>
<span class="go">Calculating fibonacci(1)</span>
<span class="go">Calculating fibonacci(0)</span>
<span class="go">55</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="go">21</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Calculating fibonacci(5)</span>
<span class="go">Calculating fibonacci(4)</span>
<span class="go">Calculating fibonacci(3)</span>
<span class="go">Calculating fibonacci(2)</span>
<span class="go">Calculating fibonacci(1)</span>
<span class="go">Calculating fibonacci(0)</span>
<span class="go">5</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="go">Calculating fibonacci(8)</span>
<span class="go">Calculating fibonacci(7)</span>
<span class="go">Calculating fibonacci(6)</span>
<span class="go">21</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">5</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fibonacci</span><span class="o">.</span><span class="n">cache_info</span><span class="p">()</span>
<span class="go">CacheInfo(hits=17, misses=20, maxsize=4, currsize=4)</span>
</code></pre></div>
</section><section class="section3" id="adding-information-about-units"><h3>Adding Information About Units</h3>
<p>The following example is somewhat similar to the <a href="https://realpython.com/primer-on-python-decorators/#registering-plugins">Registering Plugins</a> example from earlier, in that it does not really change the behavior of the decorated function. Instead, it simply adds <code>unit</code> as a function attribute:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">set_unit</span><span class="p">(</span><span class="n">unit</span><span class="p">):</span>
    <span class="sd">"""Register a unit on a function"""</span>
    <span class="k">def</span> <span class="nf">decorator_set_unit</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="n">func</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="n">unit</span>
        <span class="k">return</span> <span class="n">func</span>
    <span class="k">return</span> <span class="n">decorator_set_unit</span>
</code></pre></div>
<p>The following example calculates the volume of a cylinder based on its radius and height in centimeters:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">math</span>

<span class="nd">@set_unit</span><span class="p">(</span><span class="s2">"cm^3"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">volume</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">radius</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">height</span>
</code></pre></div>
<p>This <code>.unit</code> function attribute can later be accessed when needed:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">volume</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">141.3716694115407</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">volume</span><span class="o">.</span><span class="n">unit</span>
<span class="go">'cm^3'</span>
</code></pre></div>
<p>Note that you could have achieved something similar using <a href="https://www.python.org/dev/peps/pep-3107/">function annotations</a>:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">math</span>

<span class="hll"><span class="k">def</span> <span class="nf">volume</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"cm^3"</span><span class="p">:</span>
</span>    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">radius</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">height</span>
</code></pre></div>
<p>However, since annotations are <a href="https://www.python.org/dev/peps/pep-0484/">used for type hints</a>, it would be hard to combine such units as annotations with static type checking.</p>
<p>Units become even more powerful and fun when connected with a library that can convert between units. One such library is <a href="http://pint.readthedocs.io/"><code>pint</code></a>. With <code>pint</code> installed (<a href="https://pypi.org/project/Pint/"><code>pip install Pint</code></a>), you can for instance convert the volume to cubic inches or gallons:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ureg</span> <span class="o">=</span> <span class="n">pint</span><span class="o">.</span><span class="n">UnitRegistry</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vol</span> <span class="o">=</span> <span class="n">volume</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="n">ureg</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">vol</span>
<span class="go">&lt;Quantity(141.3716694115407, 'centimeter ** 3')&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">vol</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">"cubic inches"</span><span class="p">)</span>
<span class="go">&lt;Quantity(8.627028576414954, 'inch ** 3')&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">vol</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">"gallons"</span><span class="p">)</span><span class="o">.</span><span class="n">m</span>  <span class="c1"># Magnitude</span>
<span class="go">0.0373464440537444</span>
</code></pre></div>

<p>You could also modify the decorator to return a <code>pint</code> <a href="https://pint.readthedocs.io/en/latest/tutorial.html"><code>Quantity</code></a> directly. Such a <code>Quantity</code> is made by multiplying a value with the unit. In <code>pint</code>, units must be looked up in a <code>UnitRegistry</code>. The registry is stored as a function attribute to avoid cluttering the namespace:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">use_unit</span><span class="p">(</span><span class="n">unit</span><span class="p">):</span>
    <span class="sd">"""Have a function return a Quantity with given unit"""</span>
    <span class="n">use_unit</span><span class="o">.</span><span class="n">ureg</span> <span class="o">=</span> <span class="n">pint</span><span class="o">.</span><span class="n">UnitRegistry</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">decorator_use_unit</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper_use_unit</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">value</span> <span class="o">*</span> <span class="n">use_unit</span><span class="o">.</span><span class="n">ureg</span><span class="p">(</span><span class="n">unit</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper_use_unit</span>
    <span class="k">return</span> <span class="n">decorator_use_unit</span>

<span class="nd">@use_unit</span><span class="p">(</span><span class="s2">"meters per second"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">average_speed</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="n">duration</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">distance</span> <span class="o">/</span> <span class="n">duration</span>
</code></pre></div>
<p>With the <code>@use_unit</code> decorator, converting units is practically effortless:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bolt</span> <span class="o">=</span> <span class="n">average_speed</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mf">9.58</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bolt</span>
<span class="go">&lt;Quantity(10.438413361169102, 'meter / second')&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">bolt</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">"km per hour"</span><span class="p">)</span>
<span class="go">&lt;Quantity(37.578288100208766, 'kilometer / hour')&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">bolt</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s2">"mph"</span><span class="p">)</span><span class="o">.</span><span class="n">m</span>  <span class="c1"># Magnitude</span>
<span class="go">23.350065679064745</span>
</code></pre></div>
</section><section class="section3" id="validating-json"><h3>Validating JSON</h3>
<p>Let’s look at one last use case. Take a quick look at the following <a href="https://realpython.com/tutorials/flask/">Flask</a> route handler:</p>
<div class="highlight python"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">"/grade"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"POST"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">update_grade</span><span class="p">():</span>
    <span class="n">json_data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
    <span class="k">if</span> <span class="s2">"student_id"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">json_data</span><span class="p">:</span>
        <span class="n">abort</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
    <span class="c1"># Update database</span>
    <span class="k">return</span> <span class="s2">"success!"</span>
</code></pre></div>
<p>Here we ensure that the key <code>student_id</code> is part of the request. Although this validation works, it really does not belong in the function itself. Plus, perhaps there are other routes that use the exact same validation. So, let’s keep it <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> and abstract out any unnecessary logic with a decorator. The following <code>@validate_json</code> decorator will do the job:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">abort</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">validate_json</span><span class="p">(</span><span class="o">*</span><span class="n">expected_args</span><span class="p">):</span>                  <span class="c1"># 1</span>
    <span class="k">def</span> <span class="nf">decorator_validate_json</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper_validate_json</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="n">json_object</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">expected_arg</span> <span class="ow">in</span> <span class="n">expected_args</span><span class="p">:</span>      <span class="c1"># 2</span>
                <span class="k">if</span> <span class="n">expected_arg</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">json_object</span><span class="p">:</span>
                    <span class="n">abort</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper_validate_json</span>
    <span class="k">return</span> <span class="n">decorator_validate_json</span>
</code></pre></div>
<p>In the above code, the decorator takes a variable length list as an argument so that we can pass in as many string arguments as necessary, each representing a key used to validate the <a href="https://realpython.com/python-json/">JSON</a> data:</p>
<ol>
<li>The list of keys that must be present in the JSON is given as arguments to the decorator.</li>
<li>The wrapper function validates that each expected key is present in the JSON data.</li>
</ol>
<p>The route handler can then focus on its real job—updating grades—as it can safely assume that JSON data are valid:</p>
<div class="highlight python"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">"/grade"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"POST"</span><span class="p">])</span>
<span class="nd">@validate_json</span><span class="p">(</span><span class="s2">"student_id"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">update_grade</span><span class="p">():</span>
    <span class="n">json_data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
    <span class="c1"># Update database.</span>
    <span class="k">return</span> <span class="s2">"success!"</span>
</code></pre></div>
</section></section><section class="section2" id="conclusion"><h2>Conclusion</h2>
<p>This has been quite a journey! You started this tutorial by looking a little closer at functions, particularly how they can be defined inside other functions and passed around just like any other Python object. Then you learned about decorators and how to write them such that:</p>
<ul>
<li>They can be reused.</li>
<li>They can decorate functions with arguments and return values.</li>
<li>They can use <code>@functools.wraps</code> to look more like the decorated function.</li>
</ul>
<p>In the second part of the tutorial, you saw more advanced decorators and learned how to:</p>
<ul>
<li>Decorate classes</li>
<li>Nest decorators</li>
<li>Add arguments to decorators</li>
<li>Keep state within decorators</li>
<li>Use classes as decorators</li>
</ul>
<p>You saw that, to define a decorator, you typically define a function returning a wrapper function. The wrapper function uses <code>*args</code> and <code>**kwargs</code> to pass on arguments to the decorated function. If you want your decorator to also take arguments, you need to nest the wrapper function inside another function. In this case, you usually end up with three <code>return</code> statements.</p>
<p>You can find the <a href="https://github.com/realpython/materials/tree/master/primer-on-python-decorators">code from this tutorial online</a>.</p>
</section><section class="section2" id="further-reading"><h2>Further Reading</h2>
<p>If you are still looking for more, our book <a href="https://realpython.com/products/python-tricks-book/">Python Tricks</a> has a section on decorators, as does the <a href="https://realpython.com/asins/1449340377/">Python Cookbook</a> by David Beazley and Brian K. Jones.</p>
<p>For a deep dive into the historical discussion on how decorators should be implemented in Python, see <a href="https://www.python.org/dev/peps/pep-0318/">PEP 318</a> as well as the <a href="https://wiki.python.org/moin/PythonDecorators">Python Decorator Wiki</a>. More examples of decorators can be found in the <a href="https://wiki.python.org/moin/PythonDecoratorLibrary">Python Decorator Library</a>. The <a href="https://github.com/micheles/decorator"><code>decorator</code> module</a> can simplify creating your own decorators, and its <a href="https://decorator.readthedocs.io/">documentation</a> contains further decorator examples.</p>
<p>Also, we’ve put together a short &amp; sweet Python decorators cheat sheet for you:</p>
<div class="alert alert-warning" role="alert"><p><strong>Decorators Cheat Sheet:</strong> <a href="https://realpython.com/bonus/decorators-cheatsheet/" class="alert-link" data-toggle="modal" data-target="#modal-decorators-cheatsheet" data-focus="false">Click here to get access to a free 3-page Python decorators cheat sheet</a> that summarizes the techniques explained in this tutorial.</p></div>
</section>
<div class="border rounded p-3 card mb-2">
<p class="mb-0"><span class="badge badge-pill badge-success"><i class="fa fa-play-circle" aria-hidden="true"></i> Watch Now</span> This tutorial has a related video course created by the Real Python team. Watch it together with the written tutorial to deepen your understanding: <a class="stretched-link text-success" href="https://realpython.com/courses/python-decorators-101/"><strong>Python Decorators 101</strong></a></p>
</div>
</div>
<div class="card mt-4 mb-4 bg-secondary">
<p class="card-header h3 text-center bg-light">🐍 Python Tricks 💌</p>
<div class="card-body">
<div class="container">
<div class="row">
<div class="col-xs-12 col-sm-7">
<p>Get a short &amp; sweet <strong>Python Trick</strong> delivered to your inbox every couple of days. No spam ever. Unsubscribe any time. Curated by the Real Python team.</p>
</div>
<div class="col-xs-12 col-sm-5">
<img class="img-fluid rounded mb-3" src="./Primer on Python Decorators – Real Python_files/pytrick-dict-merge.webp" width="738" height="490" alt="Python Tricks Dictionary Merge">
</div>
</div>
<div class="row mb-3">
<form class="col-12" action="https://realpython.com/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="j7rfOmAKrn8HjXdjpMqf5BtWRS1WXIyJTDVWeJDLCOTO8AJfTLyhCObIs9WxBaH0">
<input type="hidden" name="slug" value="static-python-tricks-footer">
<div class="form-group">
<input name="email" type="email" class="form-control form-control-lg" placeholder="Email Address" required="">
</div>
<button name="submit" type="submit" class="btn btn-primary btn-lg btn-block">Send Me Python Tricks »</button>
</form>
</div>
</div>
</div>
</div>
<div class="card mt-3" id="author">
<p class="card-header h3">About <strong>Geir Arne Hjelle</strong></p>
<div class="card-body">
<div class="container p-0">
<div class="row">
<div class="col-12 col-md-3 align-self-center">
<a href="https://realpython.com/team/gahjelle/"><img loading="lazy" src="./Primer on Python Decorators – Real Python_files/gahjelle.470149ee709e.jpg" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=200&amp;sig=5f5c996c1ae71bd7f2f89f547a334d508de2f4bb 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=400&amp;sig=0e74ccf912d97528bda85e7b9e9e5064d69a1169 400w, https://files.realpython.com/media/gahjelle.470149ee709e.jpg 800w" sizes="25vw" width="800" height="800" class="d-block d-md-none rounded-circle img-fluid w-33 mb-0 mx-auto" alt="Geir Arne Hjelle"></a>
<a href="https://realpython.com/team/gahjelle/"><img loading="lazy" src="./Primer on Python Decorators – Real Python_files/gahjelle.470149ee709e.jpg" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=200&amp;sig=5f5c996c1ae71bd7f2f89f547a334d508de2f4bb 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=400&amp;sig=0e74ccf912d97528bda85e7b9e9e5064d69a1169 400w, https://files.realpython.com/media/gahjelle.470149ee709e.jpg 800w" sizes="25vw" width="800" height="800" class="d-none d-md-block rounded-circle img-fluid w-100 mb-0" alt="Geir Arne Hjelle"></a>
</div>
<div class="col mt-3">
<p>Geir Arne is an avid Pythonista and a member of the Real Python tutorial team.</p>
<a href="https://realpython.com/team/gahjelle/" class="card-link">» More about Geir Arne</a>
</div>
</div>
</div>
</div>
<hr class="my-0">
<div class="card-body pb-0">
<div class="container">
<div class="row">
 <p><em>Each tutorial at Real Python is created by a team of developers so that it meets our high quality standards. The team members who worked on this tutorial are:</em></p>
</div>
<div class="row align-items-center w-100 mx-auto">
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/asantos/"><img loading="lazy" src="./Primer on Python Decorators – Real Python_files/asantos-avatar.888c78fffab3.jpg" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/asantos-avatar.888c78fffab3.jpg&amp;w=175&amp;sig=a095ca193d3f40e73e6921403c1c43e48c9a4bdc 175w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/asantos-avatar.888c78fffab3.jpg&amp;w=350&amp;sig=28c0dc29376daf4ca29d5f47b3708b873c21af76 350w, https://files.realpython.com/media/asantos-avatar.888c78fffab3.jpg 700w" sizes="10vw" width="800" height="800" class="rounded-circle img-fluid w-100" alt="Aldren Santos"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/asantos/" class="card-link small"><p>Aldren</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/bsolomon/"><img loading="lazy" src="./Primer on Python Decorators – Real Python_files/bsolomon.2a5a05833ac0.jpg" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/bsolomon.2a5a05833ac0.jpg&amp;w=234&amp;sig=853eac2d1d5be58ddd0495dc2a21d9e96519fdf6 234w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/bsolomon.2a5a05833ac0.jpg&amp;w=469&amp;sig=25311cd6c3fabe7bfe4e314ea4c30a84b3b5258f 469w, https://files.realpython.com/media/bsolomon.2a5a05833ac0.jpg 938w" sizes="10vw" width="800" height="800" class="rounded-circle img-fluid w-100" alt="Brad Solomon"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/bsolomon/" class="card-link small"><p>Brad</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/dbader/"><img loading="lazy" src="./Primer on Python Decorators – Real Python_files/daniel-square.d58bf4388750.jpg" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/daniel-square.d58bf4388750.jpg&amp;w=250&amp;sig=0f6c5ef7f5786b2a198fe2d700695467601836fe 250w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/daniel-square.d58bf4388750.jpg&amp;w=500&amp;sig=6d44e31ac8b0ed5d7bf09163b66e9374d79b7256 500w, https://files.realpython.com/media/daniel-square.d58bf4388750.jpg 1000w" sizes="10vw" width="800" height="800" class="rounded-circle img-fluid w-100" alt="Dan Bader"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/dbader/" class="card-link small"><p>Dan</p></a>
</div>
</div>
<div class="row align-items-center w-100 mx-auto">
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/jjablonski/"><img loading="lazy" src="./Primer on Python Decorators – Real Python_files/jjablonksi-avatar.e37c4f83308e.jpg" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=200&amp;sig=d779dbceba743afb659648000525a6a71656ae98 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=400&amp;sig=99ce401a9a219f6b406309e90925252be1900dfc 400w, https://files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg 800w" sizes="10vw" width="800" height="800" class="rounded-circle img-fluid w-100" alt="Joanna Jablonski"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/jjablonski/" class="card-link small"><p>Joanna</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/mherman/"><img loading="lazy" src="./Primer on Python Decorators – Real Python_files/mike.webp" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/mike.fa94729a1e81.jpg&amp;w=40&amp;sig=3735a67c9735f419173d8bc5e67ca7b16403998f 40w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/mike.fa94729a1e81.jpg&amp;w=80&amp;sig=1a8bf16a41f7f28fced72035b957a1f5ec210a61 80w, https://files.realpython.com/media/mike.fa94729a1e81.jpg 160w" sizes="10vw" width="800" height="800" class="rounded-circle img-fluid w-100" alt="Michael Herman"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/mherman/" class="card-link small"><p>Michael</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center"></div>
<div class="col pl-0 d-none d-sm-block"></div>
</div>
</div>
</div>
</div>
<div class="bg-light rounded py-4 my-4 shadow shadow-sm mx-n2">
<div class="col-12 text-center d-block d-md-none">
<p class="h2 mb-3">Master <u><span class="marker-highlight">Real-World Python Skills</span></u> With Unlimited Access to Real&nbsp;Python</p>
<p class="mb-1"><img class="w-75" src="./Primer on Python Decorators – Real Python_files/lesson-locked.f5105cfd26db.svg"></p>
<p class="mx-auto w-75 mb-3 small"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert&nbsp;Pythonistas:</strong></p>
<p class="mb-0"><a href="https://realpython.com/account/join/?utm_source=rp_article_footer&amp;utm_content=primer-on-python-decorators" class="btn btn-primary btn-sm px-4 mb-0">Level Up Your Python Skills »</a>
</p></div>
<div class="col-12 text-center d-none d-md-block">
<p class="h2 mb-2">Master <u><span class="marker-highlight">Real-World Python Skills</span></u><br>With Unlimited Access to Real&nbsp;Python</p>
<p class="mb-2"><img class="w-50 mb-2" src="./Primer on Python Decorators – Real Python_files/lesson-locked.f5105cfd26db.svg"></p>
<p class="mx-auto w-50 mb-3"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert Pythonistas:</strong></p>
<p><a href="https://realpython.com/account/join/?utm_source=rp_article_footer&amp;utm_content=primer-on-python-decorators" class="btn btn-primary btn-lg px-4">Level Up Your Python Skills »</a>
</p></div>
</div>
<div class="card mt-4" id="reader-comments">
<p class="card-header h3">What Do You Think?</p>
<div class="text-center mt-3 mb-0 p-0">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20Primer%20on%20Python%20Decorators%20by%20@realpython&amp;url=https%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0APrimer%20on%20Python%20Decorators%0A%0Ahttps%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
<div class="card-body">
<div class="alert alert-dark">
<p class="mb-0"><strong>Real Python Comment Policy:</strong> The most useful comments are those written with the goal of learning from or helping out other readers—after reading the whole article and all the earlier comments. Complaints and insults generally won’t make the cut here.</p>
</div>
<p>What’s your #1 takeaway or favorite thing you learned? How are you going to put your newfound skills to use? Leave a comment below and let us know.</p>
<div class="mb-4" id="disqus_thread">
</div>
</div>
</div>
<div class="card mt-4 mb-4">
<p class="card-header h3">Keep Learning</p>
<div class="card-body">
<p class="mb-0">Related Tutorial Categories:
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
</p>
<p class="mt-3 mb-0">Recommended Video Course: <a class="text-success" href="https://realpython.com/courses/python-decorators-101/">Python Decorators 101</a></p>
</div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" id="rpvc">
<div class="modal-dialog modal-lg modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header border-0 mt-3">
<div class="col-12 modal-title text-center">
<h2 class="my-0 mx-5">Master <u>Real-World Python Skills</u> With Unlimited Access to Real Python</h2>
<p class="text-center text-muted mt-2 mb-1">Already a member? <a href="https://realpython.com/account/login/">Sign-In</a></p>
</div>
</div>
<div class="modal-body bg-light">
<div class="col-12 text-center">
<p class="mb-2 mt-3"><a href="https://realpython.com/account/join/?utm_source=rp&amp;utm_medium=web&amp;utm_campaign=pwn&amp;utm_content=v1"><img class="w-50 mb-2" src="./Primer on Python Decorators – Real Python_files/lesson-locked.f5105cfd26db.svg"></a></p>
<p class="mx-auto w-66 mb-3"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert Pythonistas:</strong></p>
<p><a href="https://realpython.com/account/join/?utm_source=rp&amp;utm_medium=web&amp;utm_campaign=pwn&amp;utm_content=v1" class="btn btn-primary btn-lg px-4">See Membership Options »</a>
</p></div>
</div>
<div class="modal-footer border-0">
<a href="https://realpython.com/primer-on-python-decorators/#!" class="text-muted btn" data-dismiss="modal">Close</a>
</div>
</div>
</div>
</div>
</div>
<aside class="col-md-7 col-lg-4">
<div class="card mb-3 bg-secondary">
<form class="card-body" action="https://realpython.com/optins/process/" method="post">
<div class="form-group">
<p class="h5 text-muted text-center">— FREE Email Series —</p>
<p class="h3 text-center">🐍 Python Tricks 💌</p>
<p><img class="img-fluid rounded" src="./Primer on Python Decorators – Real Python_files/pytrick-dict-merge.webp" width="738" height="490" alt="Python Tricks Dictionary Merge"></p>
</div>
<div class="form-group">
<input type="hidden" name="csrfmiddlewaretoken" value="j7rfOmAKrn8HjXdjpMqf5BtWRS1WXIyJTDVWeJDLCOTO8AJfTLyhCObIs9WxBaH0">
<input type="hidden" name="slug" value="static-python-tricks-sidebar">
<input type="email" class="form-control form-control-md" name="email" placeholder="Email…" required="">
</div>
<button type="submit" name="submit" class="btn btn-primary btn-md btn-block">Get Python Tricks »</button>
<p class="mb-0 mt-2 text-muted text-center">🔒 No spam. Unsubscribe any time.</p>
</form>
</div>
<div class="sidebar-module sidebar-module-inset border">
<p class="h4"><a class="link-unstyled" href="https://realpython.com/tutorials/all/">All Tutorial Topics</a></p>
<a href="https://realpython.com/tutorials/advanced/" class="badge badge-light text-muted">advanced</a>
<a href="https://realpython.com/tutorials/api/" class="badge badge-light text-muted">api</a>
<a href="https://realpython.com/tutorials/basics/" class="badge badge-light text-muted">basics</a>
<a href="https://realpython.com/tutorials/best-practices/" class="badge badge-light text-muted">best-practices</a>
<a href="https://realpython.com/tutorials/community/" class="badge badge-light text-muted">community</a>
<a href="https://realpython.com/tutorials/databases/" class="badge badge-light text-muted">databases</a>
<a href="https://realpython.com/tutorials/data-science/" class="badge badge-light text-muted">data-science</a>
<a href="https://realpython.com/tutorials/devops/" class="badge badge-light text-muted">devops</a>
<a href="https://realpython.com/tutorials/django/" class="badge badge-light text-muted">django</a>
<a href="https://realpython.com/tutorials/docker/" class="badge badge-light text-muted">docker</a>
<a href="https://realpython.com/tutorials/flask/" class="badge badge-light text-muted">flask</a>
<a href="https://realpython.com/tutorials/front-end/" class="badge badge-light text-muted">front-end</a>
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/machine-learning/" class="badge badge-light text-muted">machine-learning</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
<a href="https://realpython.com/tutorials/testing/" class="badge badge-light text-muted">testing</a>
<a href="https://realpython.com/tutorials/tools/" class="badge badge-light text-muted">tools</a>
<a href="https://realpython.com/tutorials/web-dev/" class="badge badge-light text-muted">web-dev</a>
<a href="https://realpython.com/tutorials/web-scraping/" class="badge badge-light text-muted">web-scraping</a>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:100%;"></div>
<div class="rpad" data-unit="1x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"><a href="https://srv.realpython.net/click/63826177731/?c=46248962562&amp;p=58946116052&amp;r=67541" rel="nofollow" target="_blank"><img src="./Primer on Python Decorators – Real Python_files/8257230f2882323b37e15fed488daba7" style="max-width: 100%; max-height: 100%; width: 100%;"></a></div>
</div>
</div>
<div class="sidebar-sticky sidebar-nav-message">
<div class="bg-light sidebar-module sidebar-module-inset" style="max-height: 80vh; overflow-y: scroll;" id="sidebar-toc">
<p class="h4 text-muted"><a class="link-unstyled" href="https://realpython.com/primer-on-python-decorators/#toc">Table of Contents</a></p>
<div class="toc">
<ul>
<li class=""><a href="https://realpython.com/primer-on-python-decorators/#functions">Functions</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#first-class-objects">First-Class Objects</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#inner-functions">Inner Functions</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#returning-functions-from-functions">Returning Functions From Functions</a></li>
</ul>
</li>
<li class=""><a href="https://realpython.com/primer-on-python-decorators/#simple-decorators">Simple Decorators</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#syntactic-sugar">Syntactic Sugar!</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#reusing-decorators">Reusing Decorators</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#decorating-functions-with-arguments">Decorating Functions With Arguments</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#returning-values-from-decorated-functions">Returning Values From Decorated Functions</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#who-are-you-really">Who Are You, Really?</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#a-few-real-world-examples">A Few Real World Examples</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#timing-functions">Timing Functions</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#debugging-code">Debugging Code</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#slowing-down-code">Slowing Down Code</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#registering-plugins">Registering Plugins</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#is-the-user-logged-in">Is the User Logged In?</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#fancy-decorators">Fancy Decorators</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#decorating-classes">Decorating Classes</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#nesting-decorators">Nesting Decorators</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#decorators-with-arguments">Decorators With Arguments</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#both-please-but-never-mind-the-bread">Both Please, But Never Mind the Bread</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#stateful-decorators">Stateful Decorators</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#classes-as-decorators">Classes as Decorators</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#more-real-world-examples">More Real World Examples</a><ul>
<li><a href="https://realpython.com/primer-on-python-decorators/#slowing-down-code-revisited">Slowing Down Code, Revisited</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#creating-singletons">Creating Singletons</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#caching-return-values">Caching Return Values</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#adding-information-about-units">Adding Information About Units</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#validating-json">Validating JSON</a></li>
</ul>
</li>
<li><a href="https://realpython.com/primer-on-python-decorators/#conclusion">Conclusion</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/#further-reading">Further Reading</a></li>
</ul>
</div>
</div>
<div class="sidebar-module sidebar-module-inset text-center my-3 py-0">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20Primer%20on%20Python%20Decorators%20by%20@realpython&amp;url=https%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0APrimer%20on%20Python%20Decorators%0A%0Ahttps%3A//realpython.com/primer-on-python-decorators/" class="mr-1 badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
<div class="sidebar-module sidebar-module-inset border card">
<p><span class="badge badge-pill badge-success"><i class="fa fa-play-circle mr-1" aria-hidden="true"></i> Recommended Video Course</span><br><a class="stretched-link text-success" href="https://realpython.com/courses/python-decorators-101/">Python Decorators 101</a></p>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:25%;"></div>
<div class="rpad" data-unit="4x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"><a href="https://srv.realpython.net/click/64754707389/?c=31941813441&amp;p=58946116052&amp;r=08123" rel="nofollow" target="_blank"><img src="./Primer on Python Decorators – Real Python_files/257f65e32c1713399c59dacea36eb818" style="max-width: 100%; max-height: 100%; width: 100%;"></a></div>
</div>
</div>
</div>
</aside>
</div>
</div>
<div class="modal fade" id="modal-decorators-cheatsheet" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
<div class="modal-content">
<div class="modal-header bg-light pt-3 pb-2">
<div class="container-fluid">
<div class="row">
<div class="col-12">
<div class="progress" style="height: .5rem;">
<div class="progress-bar progress-bar-striped progress-bar-animated w-50" role="progressbar"></div>
</div>
</div>
<div class="col-12">
<p class="text-muted text-center mb-0 mt-2">Almost there! Complete this form and click the button below to gain instant access:</p>
</div>
</div>
</div>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body m-4">
<div class="container-fluid">
<div class="row align-items-center">
<div class="col-12 col-lg-4">
<img class="img-fluid rounded w-100 mb-4" src="./Primer on Python Decorators – Real Python_files/Screenshot_2018-08-22_08.webp">
</div>
<div class="col">
<p class="text-center h3 mb-4">Python Decorators Cheat Sheet (PDF)</p>
<form class="col-12" action="https://realpython.com/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="j7rfOmAKrn8HjXdjpMqf5BtWRS1WXIyJTDVWeJDLCOTO8AJfTLyhCObIs9WxBaH0">
<input type="hidden" name="slug" value="decorators-cheatsheet">
<div class="form-group">
<input type="email" name="email" class="form-control" placeholder="Email Address" required="" autofocus="">
</div>
<button name="submit" type="submit" class="btn btn-primary btn-block text-wrap">Send Cheat Sheet »</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="modal fade" id="modal-power-of-decorators-fixed" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
<div class="modal-content">
<div class="modal-header bg-light pt-3 pb-2">
<div class="container-fluid">
<div class="row">
<div class="col-12">
<div class="progress" style="height: .5rem;">
<div class="progress-bar progress-bar-striped progress-bar-animated w-50" role="progressbar"></div>
</div>
</div>
<div class="col-12">
<p class="text-muted text-center mb-0 mt-2">Almost there! Complete this form and click the button below to gain instant access:</p>
</div>
</div>
</div>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body m-4">
<div class="container-fluid">
<div class="row align-items-center">
<div class="col-12 col-lg-4">
<img class="img-fluid rounded w-100 mb-4" src="./Primer on Python Decorators – Real Python_files/python-logo.webp">
</div>
<div class="col">
<p class="text-center h3 mb-4">The Power of Python Decorators: Advanced Patterns &amp; Techniques (PDF Guide)</p>
<form class="col-12" action="https://realpython.com/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="j7rfOmAKrn8HjXdjpMqf5BtWRS1WXIyJTDVWeJDLCOTO8AJfTLyhCObIs9WxBaH0">
<input type="hidden" name="slug" value="power-of-decorators-fixed">
<div class="form-group">
<input type="email" name="email" class="form-control" placeholder="Email Address" required="" autofocus="">
</div>
<button name="submit" type="submit" class="btn btn-primary btn-block text-wrap">Get the Python Decorators Guide »</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="modal fade" id="modal-decorators-qa-2019" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
<div class="modal-content">
<div class="modal-header bg-light pt-3 pb-2">
<div class="container-fluid">
<div class="row">
<div class="col-12">
<div class="progress" style="height: .5rem;">
<div class="progress-bar progress-bar-striped progress-bar-animated w-50" role="progressbar"></div>
</div>
</div>
<div class="col-12">
<p class="text-muted text-center mb-0 mt-2">Almost there! Complete this form and click the button below to gain instant access:</p>
</div>
</div>
</div>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body m-4">
<div class="container-fluid">
<div class="row align-items-center">
<div class="col-12 col-lg-4">
<img class="img-fluid rounded w-100 mb-4" src="./Primer on Python Decorators – Real Python_files/Primer-on-Python-Decorators_Watermarked.webp">
</div>
<div class="col">
<p class="text-center h3 mb-4">Python Decorators Q&amp;A Transcript (PDF)</p>
<form class="col-12" action="https://realpython.com/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="j7rfOmAKrn8HjXdjpMqf5BtWRS1WXIyJTDVWeJDLCOTO8AJfTLyhCObIs9WxBaH0">
<input type="hidden" name="slug" value="decorators-qa-2019">
<div class="form-group">
<input type="email" name="email" class="form-control" placeholder="Email Address" required="" autofocus="">
</div>
<button name="submit" type="submit" class="btn btn-primary btn-block text-wrap">Send My PDF »</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<footer class="footer">
<div class="container">
<p class="text-center text-muted w-75 mx-auto">© 2012–2020 Real Python&nbsp;⋅ <a href="https://realpython.com/newsletter/">Newsletter</a>&nbsp;⋅ <a href="https://realpython.com/podcasts/rpp/">Podcast</a>&nbsp;⋅ <a href="https://www.youtube.com/realpython">YouTube</a>&nbsp;⋅ <a href="https://twitter.com/realpython">Twitter</a>&nbsp;⋅ <a href="https://facebook.com/LearnRealPython">Facebook</a>&nbsp;⋅ <a href="https://www.instagram.com/realpython/">Instagram</a>&nbsp;⋅ <a href="https://realpython.com/">Python&nbsp;Tutorials</a>&nbsp;⋅ <a href="https://realpython.com/search">Search</a>&nbsp;⋅ <a href="https://realpython.com/privacy-policy/">Privacy Policy</a>&nbsp;⋅ <a href="https://realpython.com/energy-policy/" class="text-success active">Energy Policy</a>&nbsp;⋅ <a href="https://realpython.com/sponsorships/">Advertise</a>&nbsp;⋅ <a href="https://realpython.com/contact/">Contact</a><br>❤️ Happy Pythoning!</p>
</div>
</footer>
<script>
      (function(document, history, location) {
        var HISTORY_SUPPORT = !!(history && history.pushState);

        var anchorScrolls = {
          ANCHOR_REGEX: /^#[^ ]+$/,
          OFFSET_HEIGHT_PX: 120,

          /**
           * Establish events, and fix initial scroll position if a hash is provided.
           */
          init: function() {
            this.scrollToCurrent();
            window.addEventListener('hashchange', this.scrollToCurrent.bind(this));
            document.body.addEventListener('click', this.delegateAnchors.bind(this));
          },

          /**
           * Return the offset amount to deduct from the normal scroll position.
           * Modify as appropriate to allow for dynamic calculations
           */
          getFixedOffset: function() {
            return this.OFFSET_HEIGHT_PX;
          },

          /**
           * If the provided href is an anchor which resolves to an element on the
           * page, scroll to it.
           * @param  {String} href
           * @return {Boolean} - Was the href an anchor.
           */
          scrollIfAnchor: function(href, pushToHistory) {
            var match, rect, anchorOffset;

            if(!this.ANCHOR_REGEX.test(href)) {
              return false;
            }

            match = document.getElementById(href.slice(1));

            if(match) {
              rect = match.getBoundingClientRect();
              anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();
              window.scrollTo(window.pageXOffset, anchorOffset);

              // Add the state to history as-per normal anchor links
              if(HISTORY_SUPPORT && pushToHistory) {
                history.pushState({}, document.title, location.pathname + href);
              }
            }

            return !!match;
          },

          /**
           * Attempt to scroll to the current location's hash.
           */
          scrollToCurrent: function() {
            this.scrollIfAnchor(window.location.hash);
          },

          /**
           * If the click event's target was an anchor, fix the scroll position.
           */
          delegateAnchors: function(e) {
            var elem = e.target;

            if(
              elem.nodeName === 'A' &&
              this.scrollIfAnchor(elem.getAttribute('href'), true)
            ) {
              e.preventDefault();
            }
          }
        };

        window.addEventListener(
          'DOMContentLoaded', anchorScrolls.init.bind(anchorScrolls)
        );
      })(window.document, window.history, window.location);
    </script>
<script src="./Primer on Python Decorators – Real Python_files/jquery.min.dc5e7f18c8d3.js.download"></script>
<script src="./Primer on Python Decorators – Real Python_files/popper.min.1022eaf388cc.js.download"></script>
<script src="./Primer on Python Decorators – Real Python_files/bootstrap.min.6bea60c34c5d.js.download"></script>
<script src="./Primer on Python Decorators – Real Python_files/repl-toggle.366cb6d72340.js.download"></script>
<script>window.rp_prop_id = '58946116052';</script>
<script src="./Primer on Python Decorators – Real Python_files/tag.js.download" async=""></script>
<script src="./Primer on Python Decorators – Real Python_files/2153.js.download"></script>
<script>
  (function() {
    function throttle(a, b) { var c, d; return function () { var e = this, f = arguments, g = +new Date; c && g < c + a ? (clearTimeout(d), d = setTimeout(function () { c = g, b.apply(e, f) }, a)) : (c = g, b.apply(e, f)) } }
    var elems = document.getElementsByClassName("js-needs-scaling");
    var resizeAll = function() {
      Array.prototype.forEach.call(elems, function(elem) {
        var frames = elem.getElementsByTagName("iframe")
        if (frames.length === 0) {
          return;
        }
        var disclosure = elem.getElementsByClassName("js-disclosure");
        if (disclosure.length > 0) {
          disclosure[0].style.display = "";
        } else {
          disclosure[0].style.display = "none";
        }
        if (frames[0].clientWidth <= elem.parentElement.clientWidth) {
          elem.style.transform = "";
          elem.classList.add("text-center");
          return;
        }
        elem.classList.remove("text-center");
        elem.style.transform = "scale(" + elem.clientWidth / frames[0].width + ")";
      });
    }
    var periodicResize = function() {
      resizeAll();
      setTimeout(periodicResize, 100);
    }
    setTimeout(periodicResize, 100);
  })();
  </script>
<script src="./Primer on Python Decorators – Real Python_files/toc-refresh.412f6e102282.js.download" async=""></script>
<script id="dsq-count-scr" src="./Primer on Python Decorators – Real Python_files/count.js.download" async=""></script>
<script>
      var disqus_config = function () {
        this.page.url = 'https://realpython.com/primer-on-python-decorators/';
        this.page.identifier = 'https://realpython.com/primer-on-python-decorators/';
        this.callbacks.onReady = [function() {
          if (window.onDisqusReady) {
            window.onDisqusReady();
          }
        }];
      };
      var disqus_script_url = 'https://realpython.disqus.com/embed.js';
    </script>
<script src="./Primer on Python Decorators – Real Python_files/lazydisqus.3a3e39583b32.js.download" defer=""></script>
<script src="./Primer on Python Decorators – Real Python_files/OneSignalSDK.js.download" async=""></script>
<script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
      OneSignal.init({
        appId: "c0081e20-a523-42bb-b0ac-04c5a9e8bf40"
      });
    });
  </script>
<script src="./Primer on Python Decorators – Real Python_files/articlevc.11f8c3a3f08d.js.download" defer=""></script>
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Primer on Python Decorators",
    
    "image": {
      "@type": "ImageObject",
      "url": "https://files.realpython.com/media/Primer-on-Python-Decorators_Watermarked.d0da542fa3fc.jpg",
      "width": 1920,
      "height": 1080
    },
    
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://realpython.com/primer-on-python-decorators/"
    },
    "datePublished": "2018-08-22T16:00:00+00:00",
    "dateModified": "2020-06-12T22:54:27.903993+00:00",
     "publisher": {
      "@type": "Organization",
      "name": "Real Python",
      "logo": {
        "@type": "ImageObject",
        "url": "https://realpython.com/static/real-python-logo-square-tiny.b2452b6d3823.png",
        "width": 60,
        "height": 60
      }
    },
    "author": {
      "@type": "Organization",
      "name": "Real Python",
      "url": "https://realpython.com",
      "logo": "https://realpython.com/static/real-python-logo-square.146e987bf77c.png"
    },
    "description": "In this introductory tutorial, we&#x27;ll look at what Python decorators are and how to create and use them."
  }
  </script>
<script>
  var _dcq = _dcq || [];
  var _dcs = _dcs || {};
  _dcs.account = '6214500';

  (function() {
    var dc = document.createElement('script');
    dc.type = 'text/javascript'; dc.async = true;
    dc.src = '//tag.getdrip.com/6214500.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(dc, s);
  })();
</script>
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '2220911568135371');
  fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=2220911568135371&ev=PageView&noscript=1"
/></noscript>


<div class="drip-tab-container">
  <div id="drip-106703" class="drip-tab bottom right side-image image-left">
    <div id="drip-header-106703" class="drip-header">
      <a href="https://realpython.com/primer-on-python-decorators/#" id="drip-toggle-106703" class="drip-toggle">
        <h2 id="drip-teaser-106703">Improve Your Python</h2>
        <span id="drip-tab-up-106703" class="drip-arrow up">
          <svg width="12px" height="8px" viewBox="1362 659 12 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <polygon id="right_angle" stroke="none" fill="#FFFFFF" fill-rule="evenodd" transform="translate(1368.000000, 662.703125) rotate(-90.000000) translate(-1368.000000, -662.703125) " points="1364.29688 667.296875 1368.89062 662.703125 1364.29688 658.109375 1365.70312 656.703125 1371.70312 662.703125 1365.70312 668.703125"></polygon>
          </svg>
        </span>
        <span id="drip-tab-down-106703" class="drip-arrow down" style="display: none"></span>
      </a>
    </div>
    <div id="drip-content-106703" class="drip-content drip-clearfix" style="height: auto; bottom: -542px;">
      <a id="drip-close-106703" class="drip-close">
        <svg width="12px" height="12px" viewBox="630 19 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <polygon id="x" stroke="none" fill="#A8ACB9" fill-rule="evenodd" points="641.376687 30.1740899 636.49366 24.436669 641.095466 19 639.510399 19 635.701126 23.6038176 631.866288 19 630.281221 19 634.883028 24.436669 630 30.1740899 631.585067 30.1740899 635.701126 25.2463857 639.791621 30.1740899"></polygon>
        </svg>
      </a>

      <div id="drip-form-panel-106703" class="drip-panel drip-clearfix" style="display: block;">
        
          <div class="drip-form-aside">
            <span class="drip-image-helper"></span>
            <img src="./Primer on Python Decorators – Real Python_files/side_ded3082af3893736e51b0d2da53701b6.png" class="drip-image">
          </div>
        

        <div class="drip-form-main">
          <h3 id="drip-content-header-106703">Improve Your Python</h3>
          
            <div id="drip-scroll-106703" class="drip-scroll">
          
            <div class="drip-description">...with a fresh 🐍&nbsp;<strong>Python&nbsp;Trick</strong>&nbsp;💌 &nbsp;<br>
code snippet every couple of days:</div>
            <form id="drip-form-106703">
              <div style="display: none">
                <input type="hidden" name="form_id" value="106703">
              </div>
              <dl class="no-labels">
                
                  
                    <dt>Email Address</dt>
                    <dd>
                      
                        <input type="email" name="fields[email]" value="" placeholder="Email Address" class="drip-text-field">
                        <div id="drip-errors-for-email-106703" class="drip-errors"></div>
                      
                    </dd>
                  
                
                  
                    <dt></dt>
                    <dd>
                      
                        <div class="zenput zenput--checkbox hidden" data-container="eu-checkbox">
                          <input type="hidden" name="fields[eu_consent]" id="drip-field-eu_consent-106703-denied" value="denied" disabled="disabled">
                          <input type="checkbox" name="fields[eu_consent]" id="drip-field-eu_consent-106703" value="granted" disabled="disabled">
                          <label class="zenput__checkbox-label" for="drip-field-eu_consent-106703">Receive the Real Python newsletter and get notified about new tutorials we publish on the site, as well as occasional special offers.
                            <div class="zenput__checkbox-label__icon"><svg class="octicon octicon-check" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg></div>
                          </label>
                        </div>
                      
                    </dd>
                  
                
                  
                    <input type="hidden" name="fields[eu_consent_message]" value="Receive the Real Python newsletter and get notified about new tutorials we publish on the site, as well as occasional special offers.">
                  
                
                
                <div style="display: none;" aria-hidden="true">
                  <dt for="website">Website</dt>
                  <dd>
                    <input type="text" id="website" name="website" placeholder="Website" class="drip-text-field" tabindex="-1" autocomplete="false" value="">
                  </dd>
                </div>
              </dl>
              <div class="form-controls">
                <input type="submit" name="submit" value="Send Python Tricks »" id="drip-submit-106703" class="drip-submit-button">
              </div>
            </form>
          </div>
        </div>
      </div>

      <div id="drip-success-panel-106703" class="drip-success drip-panel drip-clearfix" style="display: none">
        <h3>Almost there...</h3>
        <p class="drip-description drip-post-submission">Check your inbox. I'm sending you the first Python Trick right now.</p>
      </div>

      
    </div>
  </div>
</div><div class="drip-lightbox-wrapper">
  <div id="drip-108609" class="drip-lightbox drip-hidden side-image image-right">
    <div id="drip-content-108609" class="drip-content" style="height: auto;">
      <a id="drip-close-108609" class="drip-close">
        <svg width="12px" height="12px" viewBox="630 19 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <polygon id="x" stroke="none" fill="#A8ACB9" fill-rule="evenodd" points="641.376687 30.1740899 636.49366 24.436669 641.095466 19 639.510399 19 635.701126 23.6038176 631.866288 19 630.281221 19 634.883028 24.436669 630 30.1740899 631.585067 30.1740899 635.701126 25.2463857 639.791621 30.1740899"></polygon>
        </svg>
      </a>

      <div id="drip-form-panel-108609" class="drip-panel" style="display: block;">
        
          <div class="drip-form-aside">
            <span class="drip-image-helper"></span>
            <img src="./Primer on Python Decorators – Real Python_files/side_0743418fd26dda9240db39b8bc3744e1.png" class="drip-image">
          </div>
        

        <div class="drip-form-main">
          <h3 id="drip-content-header-108609">Get the Python Cheat Sheet</h3>
          
            <div id="drip-scroll-108609" class="drip-scroll">
          
            <div class="drip-description">Enter your email address below and we'll send you the Python cheat sheet right away:</div>

            <form id="drip-form-108609">
              <dl class="no-labels">
                
                  
                    
                      <dt>Email Address</dt>
                    
                    <dd>
                      
                        <input type="email" name="fields[email]" value="" placeholder="Email Address" class="drip-text-field">
                        <div id="drip-errors-for-email-108609" class="drip-errors"></div>
                      
                    </dd>
                  
                
                  
                    
                    <dd>
                      
                        <div class="zenput zenput--checkbox hidden" data-container="eu-checkbox">
                          <input type="hidden" name="fields[eu_consent]" id="drip-field-eu_consent-108609-denied" value="denied" disabled="disabled">
                          <input type="checkbox" name="fields[eu_consent]" id="drip-field-eu_consent-108609" value="granted" disabled="disabled">
                          <label class="zenput__checkbox-label" for="drip-field-eu_consent-108609">Receive the Real Python newsletter and get notified about new tutorials we publish on the site, as well as occasional special offers.
                            <div class="zenput__checkbox-label__icon"><svg class="octicon octicon-check" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg></div>
                          </label>
                        </div>
                      
                    </dd>
                  
                
                  
                    <input type="hidden" name="fields[eu_consent_message]" value="Receive the Real Python newsletter and get notified about new tutorials we publish on the site, as well as occasional special offers.">
                  
                
                
                <div style="display: none;" aria-hidden="true">
                  <dt for="website">Website</dt>
                  <dd>
                    <input type="text" id="website" name="website" placeholder="Website" class="drip-text-field" tabindex="-1" autocomplete="false" value="">
                  </dd>
                </div>
              </dl>
              <div class="form-controls">
                <input type="submit" name="submit" value="Send My Python Cheat Sheet »" id="drip-submit-108609" class="drip-submit-button">
              </div>
            </form>
          </div>
        </div>
      </div>

      <div id="drip-success-panel-108609" class="drip-success drip-panel" style="display: none">
        <h3>Almost there...</h3>
        <p class="drip-description drip-post-submission">We emailed you the cheat sheet. Please check your inbox in a few minutes.</p>
      </div>

      
    </div>
  </div>
  <div id="drip-backdrop-108609" class="drip-backdrop drip-fade drip-hidden"></div>
</div><div class="drip-lightbox-wrapper">
  <div id="drip-108599" class="drip-lightbox drip-hidden side-image image-right">
    <div id="drip-content-108599" class="drip-content" style="height: auto;">
      <a id="drip-close-108599" class="drip-close">
        <svg width="12px" height="12px" viewBox="630 19 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <polygon id="x" stroke="none" fill="#A8ACB9" fill-rule="evenodd" points="641.376687 30.1740899 636.49366 24.436669 641.095466 19 639.510399 19 635.701126 23.6038176 631.866288 19 630.281221 19 634.883028 24.436669 630 30.1740899 631.585067 30.1740899 635.701126 25.2463857 639.791621 30.1740899"></polygon>
        </svg>
      </a>

      <div id="drip-form-panel-108599" class="drip-panel" style="display: block;">
        
          <div class="drip-form-aside">
            <span class="drip-image-helper"></span>
            <img src="./Primer on Python Decorators – Real Python_files/side_c058822f7c534cad01d5dea43398e2fd.png" class="drip-image">
          </div>
        

        <div class="drip-form-main">
          <h3 id="drip-content-header-108599">Get a Sample Chapter From the First Course</h3>
          
            <div id="drip-scroll-108599" class="drip-scroll">
          
            <div class="drip-description">Enter your email address below and we'll send you the sample chapter right away:</div>

            <form id="drip-form-108599">
              <dl class="no-labels">
                
                  
                    
                      <dt>Email Address</dt>
                    
                    <dd>
                      
                        <input type="email" name="fields[email]" value="" placeholder="Email Address" class="drip-text-field">
                        <div id="drip-errors-for-email-108599" class="drip-errors"></div>
                      
                    </dd>
                  
                
                  
                    
                    <dd>
                      
                        <div class="zenput zenput--checkbox hidden" data-container="eu-checkbox">
                          <input type="hidden" name="fields[eu_consent]" id="drip-field-eu_consent-108599-denied" value="denied" disabled="disabled">
                          <input type="checkbox" name="fields[eu_consent]" id="drip-field-eu_consent-108599" value="granted" disabled="disabled">
                          <label class="zenput__checkbox-label" for="drip-field-eu_consent-108599">Receive the Real Python newsletter and get notified about new tutorials we publish on the site, as well as occasional special offers.
                            <div class="zenput__checkbox-label__icon"><svg class="octicon octicon-check" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg></div>
                          </label>
                        </div>
                      
                    </dd>
                  
                
                  
                    <input type="hidden" name="fields[eu_consent_message]" value="Receive the Real Python newsletter and get notified about new tutorials we publish on the site, as well as occasional special offers.">
                  
                
                
                <div style="display: none;" aria-hidden="true">
                  <dt for="website">Website</dt>
                  <dd>
                    <input type="text" id="website" name="website" placeholder="Website" class="drip-text-field" tabindex="-1" autocomplete="false" value="">
                  </dd>
                </div>
              </dl>
              <div class="form-controls">
                <input type="submit" name="submit" value="Get Sample Chapter »" id="drip-submit-108599" class="drip-submit-button">
              </div>
            </form>
          </div>
        </div>
      </div>

      <div id="drip-success-panel-108599" class="drip-success drip-panel" style="display: none">
        <h3>Almost there...</h3>
        <p class="drip-description drip-post-submission">We emailed you the sample chapter. Please check your inbox in a few minutes.</p>
      </div>

      
    </div>
  </div>
  <div id="drip-backdrop-108599" class="drip-backdrop drip-fade drip-hidden"></div>
</div><script src="./Primer on Python Decorators – Real Python_files/code" async=""></script><iframe src="./Primer on Python Decorators – Real Python_files/saved_resource(3).html" style="width: 0px; height: 0px; display: none;"></iframe><iframe src="./Primer on Python Decorators – Real Python_files/webPushAnalytics.html" style="display: none;"></iframe><div id="onesignal-bell-container" class="onesignal-bell-container onesignal-reset onesignal-bell-container-bottom-left"><div id="onesignal-bell-launcher" class="onesignal-bell-launcher onesignal-bell-launcher-md onesignal-bell-launcher-bottom-left onesignal-bell-launcher-theme-default onesignal-bell-launcher-active" style="bottom: 15px; left: 15px;"><div class="onesignal-bell-launcher-button"><svg class="onesignal-bell-svg" xmlns="http://www.w3.org/2000/svg" width="99.7" height="99.7" viewBox="0 0 99.7 99.7" style="filter: drop-shadow(0 2px 4px rgba(34,36,38,0.35));; -webkit-filter: drop-shadow(0 2px 4px rgba(34,36,38,0.35));;"><circle class="background" cx="49.9" cy="49.9" r="49.9" style="fill: rgb(208, 2, 27);"></circle><path class="foreground" d="M50.1 66.2H27.7s-2-.2-2-2.1c0-1.9 1.7-2 1.7-2s6.7-3.2 6.7-5.5S33 52.7 33 43.3s6-16.6 13.2-16.6c0 0 1-2.4 3.9-2.4 2.8 0 3.8 2.4 3.8 2.4 7.2 0 13.2 7.2 13.2 16.6s-1 11-1 13.3c0 2.3 6.7 5.5 6.7 5.5s1.7.1 1.7 2c0 1.8-2.1 2.1-2.1 2.1H50.1zm-7.2 2.3h14.5s-1 6.3-7.2 6.3-7.3-6.3-7.3-6.3z" style="fill: rgb(255, 255, 255);"></path><ellipse class="stroke" cx="49.9" cy="49.9" rx="37.4" ry="36.9" style="stroke: rgb(255, 255, 255);"></ellipse></svg></div><div class="onesignal-bell-launcher-badge" style="filter: drop-shadow(0 2px 4px rgba(34,36,38,0));; -webkit-filter: drop-shadow(0 2px 4px rgba(34,36,38,0));;"></div><div class="onesignal-bell-launcher-message"><div class="onesignal-bell-launcher-message-body"></div></div><div class="onesignal-bell-launcher-dialog" style="filter: drop-shadow(0px 2px 2px rgba(34,36,38,.15));; -webkit-filter: drop-shadow(0px 2px 2px rgba(34,36,38,.15));;"><div class="onesignal-bell-launcher-dialog-body"></div></div></div></div></body><iframe sandbox="allow-scripts allow-same-origin" id="38677736e93ce8" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0px;width:0px;display:none;" scrolling="no" src="./Primer on Python Decorators – Real Python_files/cs.html">
    </iframe></html>